!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function o(e,o){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,o){if(e){if("string"==typeof e)return t(e,o);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,o):void 0}}(e))||o&&e&&"number"==typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(s)throw i}}}}const r=e=>{let t=e+"=",o=decodeURIComponent(document.cookie).split(";");for(let e=0;e<o.length;e++){let r=o[e];for(;" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""};var a={},n={state:0,last_state:0,state_prev:0,fp:0,el_id:"",direction:"",offsets:{},timer:null},i="",c="",s="https://kenzap-sites.oss-ap-southeast-1.aliyuncs.com",d="66432108790002";document.addEventListener("DOMContentLoaded",(function(){l(),u(),m();b((function(){console.log("processed")}),!1),document.addEventListener("scroll",H)}));var l=function(){var e=new URLSearchParams(window.location.search);i=e.get("table")?e.get("table"):""},u=function(){p(1);try{var e=localStorage.cart;void 0===(e=e?JSON.parse(e):{created:Math.floor(Date.now()/1e3)}).items&&(e.items={}),e.created+3600<Math.floor(Date.now()/1e3)&&(e.items={},e.created=Math.floor(Date.now()/1e3)),x.state.order=e}catch(e){x.state.order.created=Math.floor(Date.now()/1e3),x.state.order.items={}}localStorage.idd||(localStorage.idd=L(8)+Math.floor(Date.now())),x.refreshCheckoutButton()},p=function(e){switch(document.querySelector(".kUNwHA .cta-btn").style.display="block",e){case 1:x.state.order.step=e,document.querySelector(".kUNwHA .cta-btn .mbtn").innerHTML='View basket <span class="price">s$0.00</span>';break;case 2:x.state.order.step=e,document.querySelector(".kUNwHA .cta-btn .mbtn").innerHTML="Continue";break;case 3:x.state.order.step=e,document.querySelector(".kUNwHA .cta-btn .mbtn").innerHTML="Checkout";break;case 4:x.state.order.step=e,document.querySelector(".kUNwHA .cta-btn .mbtn").innerHTML="Back to menu"}},m=function(){fetch("https://api-v1.kenzap.cloud/",{method:"post",headers:{Accept:"application/json","Content-Type":"text/plain",Authorization:"Bearer "+API_KEY},body:JSON.stringify({query:{items:{type:"find",key:"ecommerce-product",fields:["_id","id","img","status","price","priced","title","cats","sdesc","ldesc","variations","updated"],limit:1e3,offset:0,sortby:{field:"created",order:"ASC"}},settings:{type:"get",key:"qrmenu-settings",fields:["mode","palette","categories"]}}})}).then((function(e){return e.json()})).then((function(e){e.success&&(a=e,c=e.sid,y(),f(),g(),A(),document.querySelector(".kUNwHA .cta-btn .mbtn").addEventListener("click",(function(e){if(document.querySelector("body").classList.add("kp-modal"),k(),1==x.state.order.step)return w(),void p(2);if(2==x.state.order.step){var t="";return t='<div class="ptable">',t+='<label for="table" style="'+(i.length>0?"display:none;":"")+'">Table number</label>',t+='<input type="number" value="'+i+'" name="table" style="'+(i.length>0?"display:none;":"")+'" autocomplete="off" class="table" size="4" pattern="" inputmode="">',t+='<label for="note">Note</label>',t+='<textarea class="note" name="note" placeholder="leave a note for a kitchen"></textarea>',t+="</div>",document.querySelector(".kUNwHA .cdialog-cnt .kp-body").innerHTML=t,document.querySelector(".kUNwHA .cdialog-cnt .ptable .table").focus(),void p(3)}if(3==x.state.order.step){var o=document.querySelector(".kUNwHA .cdialog-cnt .ptable .table").value,r=document.querySelector(".kUNwHA .cdialog-cnt .ptable .note").value;if(""==o)return void alert("Please enter table number");x.state.order.table=o,x.state.order.note=r,localStorage.cart=JSON.stringify(x.state.order),document.querySelector(".kUNwHA .cdialog-cnt").style.display="none",document.querySelector(".kUNwHA .cta-btn").style.display="none",h();var a=config.domain;return-1==a.indexOf("checkout")&&(a+=(-1==a.indexOf("?")?"?":"&")+"checkout=1"),window.location.href="https://auth.kenzap.com/?app="+d+"&redirect="+encodeURIComponent(a),document.querySelector(".kUNwHA .overlay").style.display="block",void(document.querySelector(".kUNwHA .overlay .loader").style.display="block")}4!=x.state.order.step||h()})),console.log(e))})).catch((function(e){console.error("Error:",e)}))},y=function(){var e,t="",r="",n="",i=o(a.settings.categories.split("\n"));try{for(i.s();!(e=i.n()).done;){var d=e.value.split("|"),l=d[0].trim(),u=null==d[1]?"":d[1].trim();for(var p in console.log(u),t+='<div class="slide" data-href="'+N(l)+'"><a href="#'+N(l)+'" class=" cl">'+l+"</a></div>",a.items)if(a.items[p].id=a.items[p]._id,void 0!==a.items[p].cats&&null!=a.items[p].cats&&a.items[p].cats.includes(l)){if(a.items[p].img[0]||"true"==a.items[p].img[0]){var m=new Image;m._id=a.items[p]._id,m.onload=function(){console.log("adding"+this.src),document.querySelector(".kUNwHA .kenzap-row[data-id='"+this._id+"'] img").setAttribute("src",this.src)},m.src=s+"/S"+c+"/product-"+a.items[p]._id+"-1-250.jpeg?"+a.items[p].updated}var y='<span class="tag ptag">'+U(a.items[p].price)+"</span>";""!=a.items[p].priced&&(y='<span class="ptagc">'+U(a.items[p].price)+'</span> <span class="tag ptag">'+U(a.items[p].priced)+"</span>");var f=void 0===x.state.order.items[a.items[p]._id]?"":x.state.order.items[a.items[p]._id].qty,v="";n!=l&&(v='<h2 id="'+N(n=l)+'">'+n+'</h2><p class="subnote">'+u+"</p>"),r+='            <div class="kenzap-row" data-index="'+p+'" data-id="'+a.items[p]._id+'">                '+v+'                <div class="info-box">                    <div class="kenzap-col-7">                        <div class="kp-content">                            <h3><span class="tag ctag">'+f+"</span>"+a.items[p].title+"</h3>                            <p>"+a.items[p].sdesc+"</p>                            "+y+'                        </div>                    </div>                    <div class="kenzap-col-5">                        <div class="kp-img">                            <img src="https://cdn.kenzap.com/loading.png" alt="'+a.items[p].title+'">                        </div>                    </div>                </div>                            </div>'}}}catch(e){i.e(e)}finally{i.f()}var h=document.querySelector(".kUNwHA .slideset"),k=document.querySelector(".kUNwHA .kenzap-container");""==r?k.innerHTML="Please add products and specify categories first":(h.innerHTML=t,k.innerHTML=r)},f=function(){document.querySelector(".kUNwHA .mdialog .close").addEventListener("click",(function(e){h()})),document.querySelector(".kUNwHA .cdialog .close").addEventListener("click",(function(e){document.querySelector(".kUNwHA .cdialog-cnt").style.display="none",p(1),h()})),window.addEventListener("resize",k),window.addEventListener("orientationchange",k)},h=function(){document.querySelector(".kUNwHA .mdialog-cnt").style.display="none",document.querySelector(".kUNwHA .overlay").style.display="none",document.querySelector(".kUNwHA .scrollable").style.height="auto",document.querySelector(".kUNwHA .scrollable").style.overflowY="scroll",document.querySelector("body").style.overflowY="auto",document.querySelector("body").style.height="auto",setTimeout((function(){document.querySelector("body").classList.remove("kp-modal")}),300),document.documentElement.scrollTop=n.last_state,document.querySelector(".kUNwHA .cdialog-cnt").style.display="none",x.refreshCheckoutButton()},k=function(){document.querySelector("body").classList.contains("kp-modal")&&(document.querySelector("body").style.height="100vh",document.querySelector("body").style.overflowY="hidden",document.querySelector(".kUNwHA .scrollable").style.height="100vh",document.querySelector(".kUNwHA .scrollable").style.overflowY="hidden",document.querySelector(".kUNwHA .mdialog-cnt").style.height=window.screen.availHeight-160+"px")},g=function(){var t,r=o(document.querySelectorAll(".kUNwHA .kenzap-row"));try{for(r.s();!(t=r.n()).done;){t.value.addEventListener("click",(function(t){var r=this.dataset.index;x.state.index=r;var i=a.items[r].id,d=document.querySelector(".kUNwHA .mdialog-cnt");n.last_state=n.state,x.state.total=0,x.state.count=0,x.state.product=void 0===x.state.order.items[i]?{id:a.items[r].id,title:a.items[r].title,sdesc:a.items[r].sdesc,index:r,qty:0,note:"",variations:[]}:x.state.order.items[i],x.state.product.type=0==x.state.product.qty?"new":"update",document.querySelector("body").classList.add("kp-modal"),k();var l=a.items[r].img[0]?s+"/S"+c+"/product-"+a.items[r]._id+"-1-250.jpeg?"+a.items[r].updated:"https://cdn.kenzap.com/loading.png";document.querySelector(".kUNwHA .mdialog-cnt .mdialog .kp-body > h2").innerHTML=x.state.product.title,document.querySelector(".kUNwHA .mdialog-cnt .mdialog .kp-body > p").innerHTML=x.state.product.sdesc,document.querySelector(".kUNwHA .mdialog-cnt .mdialog .kp-img img").setAttribute("src",l),document.querySelector(".kUNwHA .mdialog .qty").value=x.state.count=x.state.product.qty,document.querySelector(".kUNwHA .mdialog .kp-note textarea").value=x.state.product.note;var u=new Image;u.onload=function(){document.querySelector(".kUNwHA .mdialog-cnt .mdialog .kp-img img").setAttribute("src",this.src)},u.src=s+"/S"+c+"/product-"+a.items[r]._id+"-1-500.jpeg?"+a.items[r].updated;var p="";if(e("undefined"!==a.items[r].variations))for(var m in a.items[r].variations){var y="";for(var f in"checkbox"==a.items[r].variations[m].type&&(y="check"),"radio"==a.items[r].variations[m].type&&(y="radio"),void 0===x.state.product.variations[m]&&(x.state.product.variations[m]={title:a.items[r].variations[m].title,required:a.items[r].variations[m].required,allow:"1"!=a.items[r].variations[m].required}),p+="                <h3>"+a.items[r].variations[m].title+("1"==a.items[r].variations[m].required?' <span class="tag">required</span>':"")+'</h3>                <div class="kp-'+y+'">',a.items[r].variations[m].data){var v=!1;switch(void 0!==x.state.product.variations[m]&&void 0!==x.state.product.variations[m].list&&void 0!==x.state.product.variations[m].list["_"+f]&&(v=!0),y){case"check":p+='                            <label>                                <input type="checkbox" data-required="'+a.items[r].variations[m].required+'" data-indexv="'+m+'" data-index="'+f+'" data-title="'+a.items[r].variations[m].data[f].title+'" data-price="'+a.items[r].variations[m].data[f].price+'" '+(v?'checked="checked"':"")+'>                                <div class="checkbox">                                    <svg width="20px" height="20px" viewBox="0 0 20 20">                                        <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>                                        <polyline points="4 11 8 15 16 6"></polyline>                                    </svg>                                </div>                                <span>'+a.items[r].variations[m].data[f].title+'</span>                                <div class="price">+ '+U(a.items[r].variations[m].data[f].price)+"</div>                            </label>";break;case"radio":p+='                            <label>                                <input type="radio" data-required="'+a.items[r].variations[m].required+'" data-indexv="'+m+'" name="radio" data-index="'+f+'" data-title="'+a.items[r].variations[m].data[f].title+'" data-price="'+a.items[r].variations[m].data[f].price+'" '+(v?'checked="checked"':"")+" />                                <span>"+a.items[r].variations[m].data[f].title+'</span>                                <div class="price">+ '+U(a.items[r].variations[m].data[f].price)+"</div>                            </label>"}}p+="</div>"}document.querySelector(".kUNwHA .mdialog-cnt .mdialog .kp-vars").innerHTML=p,x.refreshButton(),d.style.display="block",document.querySelector(".kUNwHA .overlay").style.display="block";var h,g=o(document.querySelectorAll(".kUNwHA .mdialog .kp-check input[type=checkbox]"));try{var w=function(){var e=h.value;e.addEventListener("change",(function(){console.log("call refreshButton");var t=parseInt(e.dataset.indexv);x.state.product.variations[t].list={};var r,a=0,n=o(document.querySelectorAll(".kUNwHA .mdialog .kp-check input[type=checkbox][data-indexv='"+t+"']"));try{for(n.s();!(r=n.n()).done;){var i=r.value;"1"==e.dataset.required?a&&(x.state.product.variations[t].allow=!0):x.state.product.variations[t].allow=!0,i.checked&&(x.state.product.variations[t].list["_"+i.dataset.index]={title:i.dataset.title,price:parseFloat(i.dataset.price)},a+=1)}}catch(e){n.e(e)}finally{n.f()}x.refreshButton()}))};for(g.s();!(h=g.n()).done;)w()}catch(e){g.e(e)}finally{g.f()}var b,S=o(document.querySelectorAll(".kUNwHA .mdialog .kp-radio input[type=radio]"));try{var q=function(){var e=b.value;e.addEventListener("change",(function(){console.log("call refreshButton");var t=parseInt(e.dataset.indexv);x.state.product.variations[t].list={};var r,a=0,n=o(document.querySelectorAll(".kUNwHA .mdialog .kp-radio input[type=radio][data-indexv='"+t+"']"));try{for(n.s();!(r=n.n()).done;){var i=r.value;i.checked&&(x.state.product.variations[t].list["_"+i.dataset.index]={title:i.dataset.title,price:parseFloat(i.dataset.price)},a+=1),"1"==e.dataset.required?a&&(x.state.product.variations[t].allow=!0):x.state.product.variations[t].allow=!0}}catch(e){n.e(e)}finally{n.f()}x.refreshButton()}))};for(S.s();!(b=S.n()).done;)q()}catch(e){S.e(e)}finally{S.f()}}))}}catch(e){r.e(e)}finally{r.f()}var i=document.querySelector(".kUNwHA .mdialog .qty");document.querySelector(".kUNwHA .mdialog .plus").addEventListener("click",(function(e){x.state.count<config.cart.max_addition&&(x.state.count+=1),i.value=x.state.count,x.refreshButton(),q()})),document.querySelector(".kUNwHA .mdialog .minus").addEventListener("click",(function(e){x.state.count>0&&(x.state.count-=1),i.value=x.state.count,x.refreshButton(),q()})),document.querySelector(".kUNwHA .mdialog .add").addEventListener("click",(function(e){var t,o;this.parentNode.classList.contains("dis")?alert("Please select required fields"):(x.addToCart(),h(),t="Cart updated",(o=document.querySelector(".kUNwHA .snackbar")).innerHTML=t,o.classList.add("show"),setTimeout((function(){o.className=o.className.replace("show","")}),2200),q())}))},w=function e(){var t=document.querySelector(".kUNwHA .cdialog-cnt");k(),t.style.display="block",document.querySelector(".kUNwHA .overlay").style.display="block";var r="<table>",a=0;for(var n in x.state.order.items)a+=parseFloat(x.state.order.items[n].priceF),r+='<tr><td data-id="'+x.state.order.items[n].id+'" class="checkt">'+x.state.order.items[n].qty+" x "+x.state.order.items[n].title+'</td><td></td><td class="price"><strong>'+U(x.state.order.items[n].price)+"</strong></td></tr>";r+='<tr><td class="summ" colspan="3">Total <strong>'+U(a)+"</strong></td></tr>",r+="</table>",t.querySelector(".kUNwHA .cdialog-cnt .kp-body").innerHTML=r;var i,c=o(t.querySelectorAll(".kUNwHA .cdialog-cnt .kp-body .checkt"));try{for(c.s();!(i=c.n()).done;){i.value.addEventListener("click",(function(t){if(confirm("Remove "+this.innerHTML+"?")){if(document.querySelector(".kUNwHA .kenzap-row[data-id='"+this.dataset.id+"'] .ctag").innerHTML="",x.removeFromCart(this.dataset.id),x.refreshCheckoutButton(),0==Object.keys(x.state.order.items).length)return p(1),void h();e(),p(2)}}))}}catch(e){c.e(e)}finally{c.f()}},b=function(e,t){var o=new URLSearchParams(window.location.search),a=o.get("ott")?o.get("ott"):"",n=new URLSearchParams;n.append("cmd","get_state"),n.append("app",d),n.append("ott",a),n.append("token",r("kenzap_token")),fetch("https://api-v1.kenzap.cloud/auth/",{method:"post",headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},body:n}).then((function(e){return e.json()})).then((function(e){console.log(e),(o.get("checkout")?o.get("checkout"):"")&&(e.success?(e.token&&(((e,t,o)=>{let r="";if(o){let e=new Date;e.setTime(e.getTime()+24*o*60*60*1e3),r=";expires="+e.toUTCString()}document.cookie=e+"="+(escape(t)||"")+r+";path=/;domain=.kenzap.com"})("kenzap_token",e.token,1),console.log("setting up token")),x.state.order.kid=e.kid,x.state.order.name=e.name,x.state.order.from=i+" - "+e.name,x.state.order.status="new",S()):alert("Oops, something went wrong. Please try checking out again."))})).catch((function(e){console.error("Error:",e)}))},S=function(){x.state.order.idd=localStorage.idd,x.state.order.sid=c,x.state.order.id=void 0===x.state.order.id?L(8)+Math.floor(Date.now()):x.state.order.id,fetch("https://api-v1.kenzap.cloud/",{method:"post",headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded","Kenzap-Token":r("kenzap_token"),"Kenzap-Sid":c},body:JSON.stringify({query:{order:{type:"create",key:"ecommerce-order",sid:c,data:x.state.order}}})}).then((function(e){return e.json()})).then((function(e){var t;e.success?(t=document.querySelector(".kUNwHA .cdialog-cnt"),k(),t.style.display="block",document.querySelector(".kUNwHA .overlay").style.display="block",t.querySelector(".kUNwHA .cdialog-cnt .kp-body").innerHTML='<div><h3>Order received!</h3><p>Thank you for your order, you can close the window or return to the menu.</p><lottie-player src="https://assets8.lottiefiles.com/packages/lf20_fefIZO.json"  background="transparent"  speed="1" class="lplayer" style="width: 300px; height: 300px;" loop  autoplay></lottie-player></div>',x.clearCart(),p(4)):alert("Error occured. Please try again!")})).catch((function(e){console.error("Error:",e)}))},q=function(){window.navigator&&window.navigator.vibrate&&navigator.vibrate(20)},A=function(){var e,t=o(document.querySelectorAll(".kUNwHA .slideset .slide"));try{for(t.s();!(e=t.n()).done;){var r=e.value,a=r.offsetLeft;n.offsets[r.dataset.href]=a,r.addEventListener("click",(function(e){document.documentElement.scrollTop;setTimeout((function(e){var t,r=o(document.querySelectorAll(".kUNwHA .slide"));try{for(r.s();!(t=r.n()).done;){t.value.classList.remove("active")}}catch(e){r.e(e)}finally{r.f()}e.classList.add("active")}),250,this)}))}}catch(e){t.e(e)}finally{t.f()}},H=function(){var e=document.querySelectorAll(".kUNwHA .kenzap-row h2"),t=0,r=0;n.state=document.documentElement.scrollTop;var a,i=o(e);try{for(i.s();!(a=i.n()).done;){var c=a.value;r=c.offsetTop-document.documentElement.scrollTop,n.direction="down",r<0&&t>r&&(r=t,n.el_id=c.id),t=r}}catch(e){i.e(e)}finally{i.f()}if(n.state_prev!=n.state&&(n.state_prev=n.state),""!=n.el_id){var s=document.querySelector(".kUNwHA .cata-sub-nav");n.timer&&clearTimeout(n.timer),n.timer=setTimeout((function(e){s.scrollTo({left:n.offsets[e],behavior:"smooth"});var t,r=o(document.querySelectorAll(".kUNwHA .slide"));try{for(r.s();!(t=r.n()).done;){t.value.classList.remove("active")}}catch(e){r.e(e)}finally{r.f()}document.querySelector(".kUNwHA [data-href='"+e+"']").classList.add("active")}),200,n.el_id)}n.el_id=""},N=function(e){return e.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")},U=function(e){var t=parseFloat(e).toFixed(2);switch(config.price.style){case"left":t=config.price.symbol+t;break;case"right":t+=config.price.symbol}return t},L=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghiklmnopqrstuvwxyz".split("");"number"!=typeof e&&(e=Math.floor(Math.random()*t.length_));for(var o="",r=0;r<e;r++)o+=t[Math.floor(Math.random()*t.length)];return o},x={state:{total:0,count:0,index:0,product:{variations:[]},order:{}},resetButton:function(){this.state.total=0,this.state.count=0},refreshButton:function(){this.state.product.qty=parseInt(document.querySelector(".kUNwHA .qty").value),this.state.product.price=""==a.items[this.state.index].priced?parseFloat(a.items[this.state.index].price):parseFloat(a.items[this.state.index].priced),this.state.product.note=document.querySelector(".kUNwHA .kp-note textarea").value;var e,t=o(document.querySelectorAll(".kUNwHA .mdialog .kp-check input[type=checkbox]"));try{for(t.s();!(e=t.n()).done;){var r=e.value;r.checked&&(this.state.product.price+=parseFloat(r.dataset.price))}}catch(e){t.e(e)}finally{t.f()}var n,i=o(document.querySelectorAll(".kUNwHA .mdialog .kp-radio input[type=radio]"));try{for(i.s();!(n=i.n()).done;){var c=n.value;c.checked&&(this.state.product.price+=parseFloat(c.dataset.price))}}catch(e){i.e(e)}finally{i.f()}this.state.product.priceF=parseFloat(this.state.product.price*this.state.product.qty),document.querySelector(".kUNwHA .add .price").innerHTML=U(this.state.product.priceF);var s=!1;for(v in 0==this.state.product.priceF&&(s=!0),x.state.product.variations)0==x.state.product.variations[v].allow&&(s=!0);document.querySelector(".kUNwHA .kp-add .mbtn .add").style.background="","update"==x.state.product.type&&this.state.product.qty>0&&(document.querySelector(".kUNwHA .kp-add .mbtn .cta").innerHTML="Update"),"update"==x.state.product.type&&0==this.state.product.qty&&(document.querySelector(".kUNwHA .kp-add .mbtn .cta").innerHTML="Remove",document.querySelector(".kUNwHA .kp-add .btn .add").style.background="#df1960",s=!1),"new"==x.state.product.type&&(document.querySelector(".kUNwHA .kp-add .mbtn .cta").innerHTML="Add"),s?document.querySelector(".kUNwHA .kp-add .mbtn").classList.add("dis"):document.querySelector(".kUNwHA .kp-add .mbtn").classList.remove("dis")},refreshCheckoutButton:function(){var e=0;for(var t in this.state.order.items)e+=parseFloat(this.state.order.items[t].priceF);this.state.order.total=e,e>0?(document.querySelector("body").classList.add("cbtn"),p(1),document.querySelector(".kUNwHA .cta-btn .price").innerHTML=U(e)):(document.querySelector(".kUNwHA .cta-btn").style.display="none",document.querySelector("body").classList.remove("cbtn"))},addToCart:function(){this.state.order.items[this.state.product.id]=this.state.product,console.log(this.state.order.items),0==this.state.product.qty?this.removeFromCart(this.state.product.id):document.querySelector(".kUNwHA .kenzap-row[data-id='"+this.state.product.id+"'] .ctag").innerHTML=this.state.product.qty,localStorage.cart=JSON.stringify(this.state.order),x.refreshCheckoutButton()},removeFromCart:function(e){delete this.state.order.items[e],document.querySelector(".kUNwHA .kenzap-row[data-id='"+e+"'] .ctag").innerHTML="",localStorage.cart=JSON.stringify(this.state.order)},clearCart:function(){for(var e in x.state.order.items)document.querySelector(".kUNwHA .kenzap-row[data-id='"+x.state.order.items[e].id+"'] .ctag").innerHTML="";x.state.order={},x.state.order.created=Math.floor(Date.now()/1e3),x.state.order.items={},localStorage.cart=JSON.stringify(x.state.order),this.refreshCheckoutButton(),window.history.replaceState({},document.title,config.domain)}}}();
