{"version":3,"file":"index.js","sources":["../../src/_/_helpers.js","../../src/feed/index.js"],"sourcesContent":["/**\n * @name setCookie\n * @description Set cookie by its name to all .kenzap.com subdomains\n * @param {string} name - Cookie name.\n * @param {string} value - Cookie value.\n * @param {string} days - Number of days when cookie expires.\n */\n export const setCookie = (name, value, days) => {\n\n    let expires = \"\";\n    if (days) {\n        let date = new Date();\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        expires = \";expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + (escape(value) || \"\") + expires + \";path=/\"; \n}\n\n/**\n * @name getCookie\n * @description Read cookie by its name.\n * @param {string} cname - Cookie name.\n * \n * @returns {string} value - Cookie value.\n */\nexport const getCookie = (cname) => {\n\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}","import { getCookie, setCookie } from \"../_/_helpers.js\"\n\nlet products = {};\nlet scroll = {state: 0, last_state: 0, state_prev: 0, fp: 0, el_id: \"\", direction: \"\", offsets: {}, timer: null};\nlet table = '';\n\nconst CDN = 'https://kenzap-sites.oss-ap-southeast-1.aliyuncs.com';\nconst appID = '66432108790002';\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n\n    setTable();\n\n    initCart();\n\n    getMenu();\n\n    let cb = function(){ console.log('processed'); }\n    authUser(cb, false);\n\n    document.addEventListener(\"scroll\", scrollEvents);\n});\n\n/**\n * Set default table number taken from the QR-code\n * @public\n */\nconst setTable = function(){\n\n    // set current table if provided\n    let urlParams = new URLSearchParams(window.location.search);\n    table = urlParams.get('table') ? urlParams.get('table') : \"\";\n}\n\n/**\n * Show small toast notification\n * @public\n */\nconst toast = function(msg){\n\n    // Get the snackbar DIV\n    let t = document.querySelector(\".kUNwHA .snackbar\");\n    t.innerHTML = msg;\n    t.classList.add(\"show\");\n\n    // After 3 seconds, remove the show class from div\n    setTimeout(function(){ t.className = t.className.replace(\"show\", \"\"); }, 2200);\n}\n\n/**\n * initiate Cart state\n * @public\n */\nconst initCart = function(){\n\n    setBtnStep(1);\n    \n    try{\n        \n        let order = localStorage.cart;\n        \n        if(!order){ order = {created: Math.floor(Date.now() / 1000) }; }else{ order = JSON.parse(order); }\n        if(typeof(order.items) === 'undefined'){ order.items = {}; }\n\n        // check if cart expired 1h session\n        if(order.created+3600 < Math.floor(Date.now() / 1000)) {\n\n            order.items = {};\n            order.created = Math.floor(Date.now() / 1000);\n        }\n\n        cart.state.order = order;\n        // console.log(order);\n    }catch(e){\n        \n        cart.state.order.created = Math.floor(Date.now() / 1000);\n        cart.state.order.items = {};\n    }\n\n    // make sure user ID exists\n    if(!localStorage.idd) localStorage.idd = randomString(8)+Math.floor(Date.now());\n\n    // console.log(cart.state.order);\n    cart.refreshCheckoutButton();\n}\n\n/**\n * Init call to action button listeners\n * @public\n */\nconst btnListeners = function(){\n\n    // continue to table selection\n    document.querySelector(\".kUNwHA .cta-btn .mbtn\").addEventListener('click', function(e) {\n\n        document.querySelector(\"body\").classList.add('kp-modal');\n        refreshDialogView();\n\n        // view cart\n        if(cart.state.order.step == 1){\n\n            viewCheckoutModal();\n            setBtnStep(2);\n            return;\n        }\n        \n        // pick table number view\n        if(cart.state.order.step == 2){\n            \n            // view contents\n            let html = '';\n            html = '<div class=\"ptable\">';\n            html +=\t'<label for=\"table\" style=\"'+(table.length>0?'display:none;':'')+'\">Table number</label>';\n            html +=\t'<input type=\"number\" value=\"'+table+'\" name=\"table\" style=\"'+(table.length>0?'display:none;':'')+'\" autocomplete=\"off\" class=\"table\" size=\"4\" pattern=\"\" inputmode=\"\">';\n            html +=\t'<label for=\"note\">Note</label>';\n            html += '<textarea class=\"note\" name=\"note\" placeholder=\"leave a note for a kitchen\"></textarea>';\n            html +=\t'</div>';\n\n            document.querySelector(\".kUNwHA .cdialog-cnt .kp-body\").innerHTML = html;\n            document.querySelector(\".kUNwHA .cdialog-cnt .ptable .table\").focus();\n\n            setBtnStep(3);\n            return;\n        }\n\n        // finalize checkout\n        if(cart.state.order.step == 3){\n\n            // validate input field\n            let table = document.querySelector(\".kUNwHA .cdialog-cnt .ptable .table\").value;\n            let note = document.querySelector(\".kUNwHA .cdialog-cnt .ptable .note\").value;\n            if(table==\"\"){ alert(\"Please enter table number\"); return; }\n\n            // get note\n            cart.state.order.table = table;\n            cart.state.order.note = note;\n\n            // cache data\n            localStorage.cart = JSON.stringify(cart.state.order);\n\n            // close checkout modal\n            let mdialogCnt = document.querySelector(\".kUNwHA .cdialog-cnt\");\n            mdialogCnt.style.display = \"none\";\n\n            // hide button\n            document.querySelector(\".kUNwHA .cta-btn\").style.display = \"none\";\n\n            // restore body scrolling params \n            closeModal();\n            \n            // send order to backend\n            // let cb = function(){ console.log('processed'); }\n            // authUser(cb, true);\n \n            // auth user to finish checkout\n            let origin = config.domain;\n            if(origin.indexOf('checkout')==-1) origin += (origin.indexOf('?')==-1 ? '?':'&')+'checkout=1';\n            // alert('https://auth.kenzap.com/?app='+appID+'&redirect='+encodeURIComponent(origin));\n            window.location.href = 'https://auth.kenzap.com/?app='+appID+'&redirect='+encodeURIComponent(origin);\n            \n            document.querySelector(\".kUNwHA .overlay\").style.display = \"block\";\n            document.querySelector(\".kUNwHA .overlay .loader\").style.display = \"block\";\n\n            return;\n        }\n\n        // offer sign in\n        if(cart.state.order.step == 4){\n\n            // restore body scrolling params\n            closeModal();\n\n            // window.location.href = 'https://auth.kenzap.com/?redirect=https%3A%2F%2Faccount.kenzap.com%2F%3Flauncher%3Dmenu-orders&idd=' + localStorage.idd;\n            return;\n        }\n    });\n}\n\n/**\n * set button Call to action step\n * @public\n */\nconst setBtnStep = function(step){\n\n    document.querySelector(\".kUNwHA .cta-btn\").style.display = \"block\";\n    switch(step){\n\n        case 1: cart.state.order.step = step; document.querySelector(\".kUNwHA .cta-btn .mbtn\").innerHTML = 'View basket <span class=\"price\">s$0.00</span>'; break;\n        case 2: cart.state.order.step = step; document.querySelector(\".kUNwHA .cta-btn .mbtn\").innerHTML = 'Continue'; break;\n        case 3: cart.state.order.step = step; document.querySelector(\".kUNwHA .cta-btn .mbtn\").innerHTML = 'Checkout';  break;\n        case 4: cart.state.order.step = step; document.querySelector(\".kUNwHA .cta-btn .mbtn\").innerHTML = \"Back to menu\"; break;\n    }\n}\n\n/**\n * Gets menu data\n * @public\n */\nconst getMenu = function(){\n\n    const limit = 1000;\n\n    // let page = getPage(); \n    let offset = 0;\n    \n\n    // products = response;\n\n    localStorage.sid = config.sid;\n\n    renderMenu();\n\n    dialogListeners();\n\n    menuListeners();\n\n    sliderListeners();\n\n    btnListeners();\n    \n    console.log(products);\n}\n\n/**\n * Render menu dialog\n * @public\n */\nconst renderMenu = function(){\n\n    let rows = settings.categories.split('\\n');\n    let html_slider = '';\n    let html_menu = '';\n    let title = '';\n\n    for(let c of rows){\n\n        \n        // get values\n        let val = c.split('|');\n        let cat = val[0].trim();\n        let note = val[1] == null ? '' : val[1].trim();\n        console.log(note);\n\n        // render slider\n        html_slider += '<div class=\"slide\" data-href=\"'+convertToSlug(cat)+'\"><a href=\"#'+convertToSlug(cat)+'\" class=\" cl\">'+cat+'</a></div>'; \n\n        // render menu\n        for(let x in products){\n\n            // centralize IDS\n            products[x].id = products[x]._id;\n\n            // skip current loop if current category not present\n            if(typeof(products[x]['cats']) === 'undefined') continue;\n            if(products[x]['cats'] == null) continue;\n            if(!products[x]['cats'].includes(cat)) continue;\n\n            // product image\n            let img = 'https://cdn.kenzap.com/loading.png';\n\n            // load image asyncronously\n            if(products[x]['img'][0] || products[x]['img'][0] == 'true'){\n\n                let imgl = new Image();\n                imgl._id = products[x]['_id'];\n                imgl.onload = function () { console.log('adding'+this.src); document.querySelector(\".kUNwHA .kenzap-row[data-id='\"+this._id+\"'] img\").setAttribute('src', this.src); }\n                imgl.src = CDN + '/S'+localStorage.sid+'/product-'+products[x]['_id']+'-1-250.jpeg?'+products[x]['updated'];\n            }\n\n            // price\n            let price = '<span class=\"tag ptag\">'+priceFormat(products[x]['price'])+'</span>';\n            if(products[x]['priced']!=''){\n\n                price = '<span class=\"ptagc\">'+priceFormat(products[x]['price'])+'</span> <span class=\"tag ptag\">'+priceFormat(products[x]['priced'])+'</span>';\n            }\n\n            let ctag = typeof(cart.state.order.items[products[x]['_id']]) === 'undefined' ? \"\" : cart.state.order.items[products[x]['_id']].qty;\n            let show_heading = '';\n            if(title != cat){ title = cat; show_heading = '<h2 id=\"'+convertToSlug(title)+'\">'+title+'</h2><p class=\"subnote\">'+note+'</p>'; }\n            html_menu += '\\\n            <div class=\"kenzap-row\" data-index=\"'+x+'\" data-id=\"'+products[x]['_id']+'\">\\\n                '+show_heading+'\\\n                <div class=\"info-box\">\\\n                    <div class=\"kenzap-col-7\">\\\n                        <div class=\"kp-content\">\\\n                            <h3><span class=\"tag ctag\">'+ctag+'</span>'+products[x]['title']+'</h3>\\\n                            <p>'+products[x]['sdesc']+'</p>\\\n                            '+price+'\\\n                        </div>\\\n                    </div>\\\n                    <div class=\"kenzap-col-5\">\\\n                        <div class=\"kp-img\">\\\n                            <img src=\"'+img+'\" alt=\"'+products[x]['title']+'\">\\\n                        </div>\\\n                    </div>\\\n                </div>\\\n                \\\n            </div>';\n        }\n    }\n\n    let slider_container = document.querySelector(\".kUNwHA .slideset\");\n    let menu_container = document.querySelector(\".kUNwHA .kenzap-container\");\n    if(html_menu==''){\n        menu_container.innerHTML = \"Please add products and specify categories first\";\n    }else{\n        slider_container.innerHTML = html_slider;\n        menu_container.innerHTML = html_menu;\n    }\t\n}\n\n/**\n * Dialog box listeners\n * @public\n */\nconst dialogListeners = function(){\n\n    let close = document.querySelector(\".kUNwHA .mdialog .close\");\n    close.addEventListener('click', function(e) {\n\n        closeModal();\n    });\n\n    let close2 = document.querySelector(\".kUNwHA .cdialog .close\");\n    close2.addEventListener('click', function(e) {\n\n        let cdialogCnt = document.querySelector(\".kUNwHA .cdialog-cnt\");\n        cdialogCnt.style.display = \"none\";\n\n        setBtnStep(1);\n\n        closeModal();\n    });\n\n    window.addEventListener(\"resize\", refreshDialogView);\n    window.addEventListener(\"orientationchange\", refreshDialogView);\n}\n\n/**\n * Close product popup\n * @public\n */\nconst closeModal = function(){\n\n    let mdialogCnt = document.querySelector(\".kUNwHA .mdialog-cnt\");\n    mdialogCnt.style.display = \"none\";\n\n    document.querySelector(\".kUNwHA .overlay\").style.display = \"none\";\n\n    // allow body scroll\n    document.querySelector(\".kUNwHA .scrollable\").style.height = 'auto';\n    document.querySelector(\".kUNwHA .scrollable\").style.overflowY = 'scroll';\n\n    document.querySelector(\"body\").style.overflowY = 'auto';\n    document.querySelector(\"body\").style.height = 'auto';\n    setTimeout(function(){ document.querySelector(\"body\").classList.remove('kp-modal'); },300);\n\n    document.documentElement.scrollTop = scroll.last_state;\n\n    let cdialogCnt = document.querySelector(\".kUNwHA .cdialog-cnt\");\n    cdialogCnt.style.display = \"none\";\n\n    cart.refreshCheckoutButton();\n}\n\n/**\n * Dialog box listeners\n * @public\n */\nconst refreshDialogView = function(){\n\n    // body prevent scroll\n    if(document.querySelector(\"body\").classList.contains('kp-modal')){\n        document.querySelector(\"body\").style.height = '100vh';\n        document.querySelector(\"body\").style.overflowY = 'hidden';\n        document.querySelector(\".kUNwHA .scrollable\").style.height = '100vh';\n        document.querySelector(\".kUNwHA .scrollable\").style.overflowY = 'hidden';\n        document.querySelector(\".kUNwHA .mdialog-cnt\").style.height = (window.screen.availHeight-160) + \"px\";\n    }\n    // document.querySelector(\".kUNwHA .cdialog-cnt\").style.height = (window.screen.availHeight-160) + \"px\";\n}\n\n/**\n    * Menu horizontal slider listeners listener.\n    * @public\n    */\nconst menuListeners = function(){\n\n    // menu row click listener\n    let row_list = document.querySelectorAll(\".kUNwHA .kenzap-row\");\n    for(const row of row_list){\n\n        row.addEventListener('click', function(e) {\n\n            let x = this.dataset.index; cart.state.index = x;\n            let product_id = products[x].id;\n            let mdialogCnt = document.querySelector(\".kUNwHA .mdialog-cnt\");\n            scroll.last_state = scroll.state;\n\n            // console.log(cart.state.order.items);\n\n            cart.state.total = 0;\n            cart.state.count = 0;\n\n            // update cart state\n            cart.state.product = typeof(cart.state.order.items[product_id]) === 'undefined' ? {id: products[x].id, title: products[x].title, sdesc: products[x].sdesc, index: x, qty: 0, note: \"\", variations:[] }:cart.state.order.items[product_id];\n            \n            // detect product state\n            cart.state.product.type = cart.state.product.qty == 0 ? \"new\" : \"update\";\n            \n            document.querySelector(\"body\").classList.add('kp-modal');\n            // console.log(cart.state.product.variations);\n\n            refreshDialogView();\n\n            let src = (products[x]['img'][0]) ? CDN + '/S'+localStorage.sid+'/product-'+products[x]['_id']+'-1-250.jpeg?'+products[x]['updated'] : 'https://cdn.kenzap.com/loading.png'\n\n\n            // bind data to modal body\n            document.querySelector(\".kUNwHA .mdialog-cnt .mdialog .kp-body > h2\").innerHTML = cart.state.product.title;\n            document.querySelector(\".kUNwHA .mdialog-cnt .mdialog .kp-body > p\").innerHTML = cart.state.product.sdesc;\n            document.querySelector(\".kUNwHA .mdialog-cnt .mdialog .kp-img img\").setAttribute('src', src);\n            document.querySelector(\".kUNwHA .mdialog .qty\").value = cart.state.count = cart.state.product.qty;\t\n            document.querySelector(\".kUNwHA .mdialog .kp-note textarea\").value = cart.state.product.note;\t \n\n            // load image asyncronously\n            var imgl = new Image();\n            imgl.onload = function () { document.querySelector(\".kUNwHA .mdialog-cnt .mdialog .kp-img img\").setAttribute('src', this.src); }\n            imgl.src = CDN + '/S'+localStorage.sid+'/product-'+products[x]['_id']+'-1-500.jpeg?'+products[x]['updated'];\n\n            // \"variations\":[{\"title\":\"Sauce\",\"type\":\"checkbox\",\"required\":\"0\",\"data\":[{\"title\":\"Chilli\",\"price\":\"0.40\",\"cond\":\"\"},{\"title\":\"Teriyaki\",\"price\":\"1.00\",\"cond\":\"\"}]},{\"title\":\"Rice\",\"type\":\"checkbox\",\"required\":\"1\",\"data\":[{\"title\":\"rice\",\"price\":\"0.00\",\"cond\":\"\"},{\"title\":\"cdscdsc\",\"price\":\"0.00\",\"cond\":\"\"}]}]}\n            let html_vars = '';\n            if(typeof(products[x].variations !== 'undefined'))\n            for(let v in products[x].variations){\n\n                // products[x].variations[v].title\n\n                // variation type\n                let type = '';\t\n                if(products[x].variations[v].type=='checkbox') type = 'check';\n                if(products[x].variations[v].type=='radio') \ttype = 'radio';\n\n                // update cart state\n                if(typeof(cart.state.product.variations[v]) === 'undefined') cart.state.product.variations[v] = {title: products[x].variations[v].title, required: products[x].variations[v].required, allow: products[x].variations[v].required == '1'?false:true };\t\n\n                // struct variation\n                html_vars += '\\\n                <h3>'+products[x].variations[v].title+(products[x].variations[v].required == '1' ? ' <span class=\"tag\">required</span>':'')+'</h3>\\\n                <div class=\"kp-'+type+'\">';\n\n                // variation labels\n                for(let d in products[x].variations[v].data){\n\n                    let checked = false;\n                    // console.log(cart.state.product.variations);\n                    if(typeof(cart.state.product.variations[v]) !== 'undefined' && typeof(cart.state.product.variations[v].list) !== 'undefined' && typeof(cart.state.product.variations[v].list[\"_\"+d]) !== 'undefined'){\n\n                        checked = true;\n                        // alert(\"checked\");\n                        // checked = typeof(cart.state.product.variations[v].list[\"_\"+d]) === 'undefined' ? false : true;\n                    }\n                    \n                    switch(type){\n                        case 'check':\n\n                        html_vars += '\\\n                            <label>\\\n                                <input type=\"checkbox\" data-required=\"'+products[x].variations[v].required+'\" data-indexv=\"'+v+'\" data-index=\"'+d+'\" data-title=\"'+products[x].variations[v].data[d]['title']+'\" data-price=\"'+products[x].variations[v].data[d]['price']+'\" '+(checked?'checked=\"checked\"':'')+'>\\\n                                <div class=\"checkbox\">\\\n                                    <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\">\\\n                                        <path d=\"M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z\"></path>\\\n                                        <polyline points=\"4 11 8 15 16 6\"></polyline>\\\n                                    </svg>\\\n                                </div>\\\n                                <span>'+products[x].variations[v].data[d]['title']+'</span>\\\n                                <div class=\"price\">+ '+priceFormat(products[x].variations[v].data[d]['price'])+'</div>\\\n                            </label>';\n                        \n                        break;\n                        case 'radio':\n\n                        html_vars += '\\\n                            <label>\\\n                                <input type=\"radio\" data-required=\"'+products[x].variations[v].required+'\" data-indexv=\"'+v+'\" name=\"radio\" data-index=\"'+d+'\" data-title=\"'+products[x].variations[v].data[d]['title']+'\" data-price=\"'+products[x].variations[v].data[d]['price']+'\" '+(checked?'checked=\"checked\"':'')+' />\\\n                                <span>'+products[x].variations[v].data[d]['title']+'</span>\\\n                                <div class=\"price\">+ '+priceFormat(products[x].variations[v].data[d]['price'])+'</div>\\\n                            </label>';\n                        \n                        break;\n                    }\n                }\n\n                html_vars += '</div>';\n\n                // html_var = '\\\n                // <h3>'+products[x].variations[v].title+' '+(products[x].variations[v].required == '1' ? '<span class=\"tag\">required</span>':'')+'</h3>\\\n                // <div class=\"kp-'+type+'\">\\\n                // \t'+labels+'\\\n                // </div>';\n            }\n\n            document.querySelector(\".kUNwHA .mdialog-cnt .mdialog .kp-vars\").innerHTML = html_vars;\n\n            cart.refreshButton();\n            \n            mdialogCnt.style.display = \"block\";\n            document.querySelector(\".kUNwHA .overlay\").style.display = \"block\";\n    \n            // checkbox listener\n            let checkbox_list = document.querySelectorAll(\".kUNwHA .mdialog .kp-check input[type=checkbox]\");\n            for(const cb of checkbox_list){\n                cb.addEventListener('change', function() {\n\n                    console.log(\"call refreshButton\");\n\n                    let v = parseInt(cb.dataset.indexv);\n                    // if(typeof(cart.state.product.variations[v].list) === 'undefined') \n                    cart.state.product.variations[v].list = {};\n\n                    let count = 0;\n                    for(const cbg of document.querySelectorAll(\".kUNwHA .mdialog .kp-check input[type=checkbox][data-indexv='\"+v+\"']\")){\n\n                        // checks if this block is required and allows checkout\n                        if(cb.dataset.required==\"1\"){ if(count) cart.state.product.variations[v].allow = true; }else{ cart.state.product.variations[v].allow = true; }\n\n                        // cache selected variations\n                        if(cbg.checked){ cart.state.product.variations[v].list[\"_\"+cbg.dataset.index] = {title: cbg.dataset.title, price: parseFloat(cbg.dataset.price) }; count +=1; }\n                    }\n                    \n                    // console.log(cart.state.product.variations);\n                    cart.refreshButton();\n                });\n            }\n\n            // radio listener\n            let radio_list = document.querySelectorAll(\".kUNwHA .mdialog .kp-radio input[type=radio]\");\n            for(const cb of radio_list){\n                cb.addEventListener('change', function() {\n\n                    console.log(\"call refreshButton\");\n\n                    let v = parseInt(cb.dataset.indexv);\n                    // if(typeof(cart.state.product.variations[v].list) === 'undefined') \n                    cart.state.product.variations[v].list = {};\n\n                    let count = 0;\n                    for(const rag of document.querySelectorAll(\".kUNwHA .mdialog .kp-radio input[type=radio][data-indexv='\"+v+\"']\")){\n                    \n                        // cache selected variations\n                        if(rag.checked){ cart.state.product.variations[v].list[\"_\"+rag.dataset.index] = {title: rag.dataset.title, price: parseFloat(rag.dataset.price) }; count +=1; }\n                        \n                        // checks if this block is required and allows checkout\n                        if(cb.dataset.required==\"1\"){ if(count) cart.state.product.variations[v].allow = true; }else{ cart.state.product.variations[v].allow = true; }\n                    }\n\n                    // console.log(cart.state.product.variations);\n\n                    cart.refreshButton();\n                });\n            }\n        });\n        // cart.refreshButton();\n        // console.log(cart.state.product);\n    }\n\n    // plus click listener\n    let qty = document.querySelector(\".kUNwHA .mdialog .qty\");\n    let plus = document.querySelector(\".kUNwHA .mdialog .plus\");\n    plus.addEventListener('click', function(e) {\n\n        if(cart.state.count < config.cart.max_addition) cart.state.count +=1;\n        qty.value = cart.state.count;\n        cart.refreshButton();\n        vibrate();\n    });\n    \n    // minus click listener\n    let minus = document.querySelector(\".kUNwHA .mdialog .minus\");\n    minus.addEventListener('click', function(e) {\n\n        if(cart.state.count > 0) cart.state.count -=1;\n        qty.value = cart.state.count;\n        cart.refreshButton();\n        vibrate();\n    });\n\n    // add to cart listener\n    let add = document.querySelector(\".kUNwHA .mdialog .add\");\n    add.addEventListener('click', function(e) {\n\n        if(this.parentNode.classList.contains(\"dis\")){ alert(\"Please select required fields\"); return; }\n        cart.addToCart();\n        // cart.resetButton(); \n        closeModal();\n        toast(\"Cart updated\");\n        vibrate();\n    });\n\n    // checkout  button listener\n    // let checkout = document.querySelector(\".kUNwHA .vadd\");\n    // checkout.addEventListener('click', function(e) {\n\n    // \tviewCheckoutModal();\n    // });\n}\n\n/**\n    * view checkout modal\n    * @public\n    */\nconst viewCheckoutModal = function(){\n\n    let cdialogCnt = document.querySelector(\".kUNwHA .cdialog-cnt\");\n\n    refreshDialogView();\n\n    cdialogCnt.style.display = \"block\";\n    document.querySelector(\".kUNwHA .overlay\").style.display = \"block\";\n\n    // generate cart table\n    let html = '<table>';\n    let total = 0;\n    for(let p in cart.state.order.items){\n\n        // console.log(cart.state.order.items[p].priceF);\n        total += parseFloat(cart.state.order.items[p].priceF);\n        html += '<tr><td data-id=\"'+cart.state.order.items[p].id+'\" class=\"checkt\">'+cart.state.order.items[p].qty+' x '+cart.state.order.items[p].title+'</td><td></td><td class=\"price\"><strong>'+priceFormat(cart.state.order.items[p].price)+'</strong></td></tr>';\n    }\n\n    html += '<tr><td class=\"summ\" colspan=\"3\">Total <strong>'+priceFormat(total)+'</strong></td></tr>';\n    html += '</table>';\n\n    cdialogCnt.querySelector(\".kUNwHA .cdialog-cnt .kp-body\").innerHTML = html;\n\n    // remove item from cart\n    for(const td of cdialogCnt.querySelectorAll(\".kUNwHA .cdialog-cnt .kp-body .checkt\")){\n\n        td.addEventListener('click', function(e) {\n\n            let c = confirm(\"Remove \"+this.innerHTML + \"?\");\n            if(c){\n\n                document.querySelector(\".kUNwHA .kenzap-row[data-id='\"+this.dataset.id+\"'] .ctag\").innerHTML = \"\";\n                cart.removeFromCart(this.dataset.id);\n                cart.refreshCheckoutButton();\n\n                // console.log(cart.state.order.items);\n                if(Object.keys(cart.state.order.items).length == 0){\n\n                    setBtnStep(1);\n                    // console.log(\"closeModal\"); \n                    closeModal(); \n                    return; \n                }\n                viewCheckoutModal();\n                setBtnStep(2);\n            }\n        });\n    }\t\n}\n\n/**\n    * view thank you modal\n    * @public\n    */\nconst viewThankyouModal = function(){\n\n    let tdialogCnt = document.querySelector(\".kUNwHA .cdialog-cnt\");\n\n    refreshDialogView();\n\n    tdialogCnt.style.display = \"block\";\n    document.querySelector(\".kUNwHA .overlay\").style.display = \"block\";\n\n    // generate cart table\n    let html = '<div>';\n    html += '<h3>Order received!</h3>';\n    html += '<p>Thank you for your order, you can close the window or return to the menu.</p>';\n    html += '<lottie-player src=\"https://assets8.lottiefiles.com/packages/lf20_fefIZO.json\"  background=\"transparent\"  speed=\"1\" class=\"lplayer\" style=\"width: 300px; height: 300px;\" loop  autoplay></lottie-player>';\n    \n    // generate order table\n    html += '<h4>Summary</h4>';\n    html += '<table>';\n    let total = 0;\n    let lastOrder = JSON.parse(localStorage.lastOrder);\n    for(let p in lastOrder.items){\n\n        // console.log(cart.state.order.items[p].priceF);\n        total += parseFloat(lastOrder.items[p].priceF);\n        html += '<tr><td data-id=\"'+lastOrder.items[p].id+'\" class=\"checkt\">'+lastOrder.items[p].qty+' x '+lastOrder.items[p].title+'</td><td></td><td class=\"price\"><strong>'+priceFormat(lastOrder.items[p].price)+'</strong></td></tr>';\n    }\n\n    html += '<tr><td class=\"summ\" colspan=\"3\">Total <strong>'+priceFormat(total)+'</strong></td></tr>';\n    html += '</table>';\n\n    \n    // html +=  \n    html += '</div>';\n\n    tdialogCnt.querySelector(\".kUNwHA .cdialog-cnt .kp-body\").innerHTML = html;\n}\n\n/**\n    * send checkout data to backend\n    * @public\n    */\nconst authUser = function(cb, force){\n        \n    let urlParams = new URLSearchParams(window.location.search);\n    let ott = urlParams.get('ott') ? urlParams.get('ott') : \"\";\n    \n    let params = new URLSearchParams();\n        params.append(\"cmd\", \"get_state\");\n        params.append(\"app\", appID);\n        params.append(\"ott\", ott);\n        params.append(\"token\", getCookie('kenzap_token'));\n\n        config.token = getCookie('kenzap_token');\n\n    // do API query\n    fetch('https://api-v1.kenzap.cloud/auth/', {\n        method: 'post',\n        headers: {\n            'Accept': 'application/json',\n            'Content-type': 'application/x-www-form-urlencoded',\n            // 'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n        },\n        body: params\n    })\n    .then(response => response.json())\n    .then(response => {\n \n        let checkout = urlParams.get('checkout') ? urlParams.get('checkout') : \"\";\n        if(!checkout) return;\n\n        if(response.success){\n\n            if(response.token){ config.token = response.token; setCookie('kenzap_token', response.token, 1); console.log('setting up token'); }\n\n            // let table = 5;\n            cart.state.order.kid = response.kid;\n            cart.state.order.name = response.name;\n            cart.state.order.from = table+' - '+response.name;\n            cart.state.order.status = 'new';\n\n            // DO CHECKOUT\n            // cb.call();\n            ajaxCheckout();\n        }else{\n\n            alert('Oops, something went wrong. Please try checking out again.');\n \n            // DO AUTH\n            // if(force) window.location.href = 'https://auth.kenzap.com/?app='+appID+'&redirect='+encodeURI(window.location.href);\n            // window.location.href = 'https://auth.kenzap.com/?app='+appID;\n            // https://auth.kenzap.com/?app=66432108790001\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n    });\n}\n\n/**\n    * send checkout data to backend\n    * @public\n    */\nconst ajaxCheckout = function(){\n\n    cart.state.order.idd = localStorage.idd;\n    cart.state.order.sid = localStorage.sid;\n    cart.state.order.id = (typeof(cart.state.order.id) === 'undefined' ? randomString(8)+Math.floor(Date.now()) : cart.state.order.id);\n\n    localStorage.lastOrder = JSON.stringify(cart.state.order);\n\n    // alert(cart.state.order.id);\n    // let kenzap_api_key = 'DoSTdhxk6BTIHiYno9XhZ4zorh0ak0MRGMH5T2iP2h1BNo3MtA69irZJp3pZuaiA';\n\n    // alert('token 2 '+ config.token);\n\n    // do API query\n    fetch('https://api-v1.kenzap.cloud/', {\n        method: 'post',\n        headers: {\n            'Accept': 'application/json',\n            'Content-type': 'application/x-www-form-urlencoded',\n            'Authorization': 'Bearer ' + API_KEY,\n            'Kenzap-Token': config.token,\n            'Kenzap-Sid': localStorage.sid,\n        },\n        body: JSON.stringify({\n            query: {\n                order: {\n                    type:       'create',\n                    key:        'ecommerce-order',        \n                    sid:        localStorage.sid,\n                    data:       cart.state.order\n                }\n            }\n        })\n    })\n    .then(response => response.json())\n    .then(response => {\n\n        if(response.success){\n\n            viewThankyouModal();\n\n            // reset cart\n            cart.clearCart();\n\n            // next step\n            setBtnStep(4);\n        }else{\n\n            // alert(\"Error occured. Please try again!\");\n            alert('Error: '+JSON.stringify(response));\n\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n    });\n}\n\n/**\n    * trigger small vibration effect when user interacts with UI\n    * @public\n    */\n    const vibrate = function(){\n\n    if (window.navigator && window.navigator.vibrate) {\n        // Vibrate once for 1 second\n        navigator.vibrate(20);\n    }\n}\n\n/**\n    * Menu horizontal slider listeners.\n    * @public\n    */\nconst sliderListeners = function(){\n\n    let slide_list = document.querySelectorAll(\".kUNwHA .slideset .slide\");\n    for(const slide of slide_list){\n\n        // offsetLeft\n        let scrollDiv = slide.offsetLeft;\n        scroll.offsets[slide.dataset.href] = scrollDiv;\n        slide.addEventListener('click', function(e) {\n\n            let sto = document.documentElement.scrollTop;\n            // document.documentElement.scrollTop = sto-=10;\n            setTimeout(function(el){\n\n                for (const l of document.querySelectorAll(\".kUNwHA .slide\")){ l.classList.remove(\"active\"); }\n                el.classList.add(\"active\");\n                // document.documentElement.scrollTop = sto+=10;\n            },250, this)\n        });\n    }\n}\n\n/**\n    * Scroll listener. Add/Remove scrolled class to body\n    * @public\n    */\n    const scrollEvents = function() {\n\n    // console.log(document.documentElement.scrollTop);\n    let h_list = document.querySelectorAll(\".kUNwHA .kenzap-row h2\");\n    let s_id = \"\";\n    let diff_prev = 0;\n    let diff = 0;\n    scroll.state = document.documentElement.scrollTop;\n\n    for (const h of h_list){\n\n        diff = (h.offsetTop - document.documentElement.scrollTop);\n        \n        // scrolling up\n        // if(scroll.state<scroll.state_prev){\n\n        // \tscroll.direction = \"up\";\n        // \tif(diff>0){\n                \n        // \t\tif(scroll.el_id == \"\") scroll.el_id = h.id;\n        // \t\tif(diff_prev > diff){ console.log(diff + \" \" +h.id); diff = diff_prev; scroll.el_id = h.id; }\n        // \t}\n        // }\n\n        // scrolling down\n        // if(scroll.state>scroll.state_prev){\n\n            scroll.direction = \"down\";\n            if(diff<0){\n\n                if(diff_prev > diff){ diff = diff_prev; scroll.el_id = h.id; }\n            }\n    \n            // if(diff>0){\n\n            // }\n        // }\n\n        diff_prev = diff;\n    }\n\n    // save previous scroll state\n    if(scroll.state_prev!=scroll.state) scroll.state_prev = scroll.state;\n\n    if(scroll.el_id!=\"\"){\n\n        let sc = document.querySelector(\".kUNwHA .cata-sub-nav\");\n        if(scroll.timer) clearTimeout(scroll.timer);\n        scroll.timer = setTimeout((el_id) => {\n\n            sc.scrollTo({ left: scroll.offsets[el_id], behavior: 'smooth'});\n\n            for (const l of document.querySelectorAll(\".kUNwHA .slide\")){ l.classList.remove(\"active\"); }\n            document.querySelector(\".kUNwHA [data-href='\"+el_id+\"']\").classList.add(\"active\");\n\n        }, 200, scroll.el_id);\n    }\n\n    scroll.el_id = \"\";\n}\n\n/**\n    * Convert text to url friendly slug \n    * @public\n    */\nconst convertToSlug = function(str) {\n\n    return str\n        .toLowerCase()\n        .replace(/[^\\w ]+/g,'')\n        .replace(/ +/g,'-')\n        ;\n}\n\n/**\n    * Render price\n    * @public\n    */\nconst priceFormat = function(price) {\n\n    let priceF = parseFloat(price).toFixed(2);\n\n    switch(config.price.style){\n        case 'left': priceF = config.price.symbol + priceF; break;\n        case 'right': priceF = priceF + config.price.symbol; break;\n    }\n\n    return priceF;\n}\n\n/**\n    * Generates a random string\n    * \n    * @param int length_\n    * @return string\n    */\nconst randomString = function(length_) {\n\n    var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghiklmnopqrstuvwxyz'.split('');\n    if (typeof length_ !== \"number\") {\n        length_ = Math.floor(Math.random() * chars.length_);\n    }\n    var str = '';\n    for (var i = 0; i < length_; i++) {\n        str += chars[Math.floor(Math.random() * chars.length)];\n    }\n    return str;\n}\n\n/**\n    * Get cookie by name\n    * @param cname cookie name\n    * @public\n    */\n// const getCookie = (cname) => {\n\n//     let name = cname + \"=\";\n//     let decodedCookie = decodeURIComponent(document.cookie);\n//     let ca = decodedCookie.split(';');\n//     for (let i = 0; i < ca.length; i++) {\n//         let c = ca[i];\n//         while (c.charAt(0) == ' ') {\n//             c = c.substring(1);\n//         }\n//         if (c.indexOf(name) == 0) {\n//             return c.substring(name.length, c.length);\n//         }\n//     }\n//     return \"\";\n// }\n\n/**\n    * Cart and checkout functions\n    * @public\n    */\nlet cart = {\n\n    state: {total: 0, count: 0, index: 0, product: { variations: [] }, order: {} },\n    // order:{total: 0, items: []},\n    resetButton: function(){\n\n        // document.querySelector(\".kUNwHA .qty\").value = 0;\n        this.state.total = 0;\n        this.state.count = 0;\n        // this.state.product = { variations: [] };\n        // this.refreshButton();\n    },\n    refreshButton: function(){\n\n        // price | get base product price\n        this.state.product.qty = parseInt(document.querySelector(\".kUNwHA .qty\").value);\n        this.state.product.price = products[this.state.index].priced == \"\" ? parseFloat(products[this.state.index].price) : parseFloat(products[this.state.index].priced);\n\n        // get note\n        this.state.product.note = document.querySelector(\".kUNwHA .kp-note textarea\").value;\n\n        // price | calculate upon checkbox variations\n        let cb_count = 0;\n        let checkbox_list = document.querySelectorAll(\".kUNwHA .mdialog .kp-check input[type=checkbox]\");\n        for(const cb of checkbox_list){ if(cb.checked){ cb_count++; this.state.product.price+=parseFloat(cb.dataset.price);  } } //console.log(\"CB: \" + parseFloat(cb.dataset.price));\n\n        // price | calculate upon radio variations\n        let ra_count = 0;\n        let radio_list = document.querySelectorAll(\".kUNwHA .mdialog .kp-radio input[type=radio]\");\n        for(const ra of radio_list){ if(ra.checked){ ra_count++; this.state.product.price+=parseFloat(ra.dataset.price); } } //console.log(\"RA: \" + parseFloat(ra.dataset.price)); \n\n        // price | assign to button\n        this.state.product.priceF = parseFloat((this.state.product.price*this.state.product.qty));\n        document.querySelector(\".kUNwHA .add .price\").innerHTML = priceFormat(this.state.product.priceF);\n\n        // define button state, enabled, disabled\n        let dis = false;\n        if(this.state.product.priceF==0) dis = true;\n        for(v in cart.state.product.variations){ if(cart.state.product.variations[v].allow == false) dis = true; }\n\n        // define button text\n        // console.log(cart.state.product.type);\n        document.querySelector(\".kUNwHA .kp-add .mbtn .add\").style.background = \"\";\n        if(cart.state.product.type == 'update' && this.state.product.qty > 0){ document.querySelector(\".kUNwHA .kp-add .mbtn .cta\").innerHTML = \"Update\"; }\n        if(cart.state.product.type == 'update' && this.state.product.qty == 0){ document.querySelector(\".kUNwHA .kp-add .mbtn .cta\").innerHTML = \"Remove\"; document.querySelector(\".kUNwHA .kp-add .btn .add\").style.background=\"#df1960\"; dis = false; }\n        if(cart.state.product.type == 'new'){ document.querySelector(\".kUNwHA .kp-add .mbtn .cta\").innerHTML = \"Add\"; }\n\n        // refresh UI\n        if(dis){ document.querySelector(\".kUNwHA .kp-add .mbtn\").classList.add(\"dis\"); }else{ document.querySelector(\".kUNwHA .kp-add .mbtn\").classList.remove(\"dis\"); }\n    },\n    refreshCheckoutButton: function(){\n\n        // console.log(this.state.order.items);\n        let total = 0;\n        for(let p in this.state.order.items){\n\n            // console.log(this.state.order.items[p].priceF);\n            total += parseFloat(this.state.order.items[p].priceF);\n        }\n\n        this.state.order.total = total;\n\n        // trigger visibility\n        if(total>0) {\n\n            document.querySelector(\"body\").classList.add(\"cbtn\");\n            \n            setBtnStep(1);\n\n            document.querySelector(\".kUNwHA .cta-btn .price\").innerHTML = priceFormat(total);\n        }else{\n            document.querySelector(\".kUNwHA .cta-btn\").style.display = \"none\";\n            document.querySelector(\"body\").classList.remove(\"cbtn\");\n        }\n    },\n    addToCart: function(){\n\n        // sync UI with data\n        // this.refreshButton();\n\n        // add to cart\n        this.state.order.items[this.state.product.id] = this.state.product; // push(this.state.product);\n\n        console.log(this.state.order.items);\n\n        // remove from cart\n        if(this.state.product.qty==0){ this.removeFromCart(this.state.product.id); }else{ document.querySelector(\".kUNwHA .kenzap-row[data-id='\"+this.state.product.id+\"'] .ctag\").innerHTML = this.state.product.qty; }\n\n        // cache results\n        localStorage.cart = JSON.stringify(this.state.order);\n\n        // setBtnStep(1);\n        cart.refreshCheckoutButton();\n        \n    },\n    removeFromCart: function(id){\n\n        delete this.state.order.items[id];\n\n        document.querySelector(\".kUNwHA .kenzap-row[data-id='\"+id+\"'] .ctag\").innerHTML = \"\";\n \n        // cache results\n        localStorage.cart = JSON.stringify(this.state.order);\n    },\n    clearCart: function(){\n\n        // clear cart and refresh UI\n        for(let i in cart.state.order.items){  document.querySelector(\".kUNwHA .kenzap-row[data-id='\"+cart.state.order.items[i].id+\"'] .ctag\").innerHTML = \"\"; }\n\n        // reset cached data\n        cart.state.order = {};\n        cart.state.order.created = Math.floor(Date.now() / 1000);\n        cart.state.order.items = {};\n\n        localStorage.cart = JSON.stringify(cart.state.order);\n\n        // refresh cart button \n        this.refreshCheckoutButton();\n\n        // remove checkoout request from url\n        window.history.replaceState({}, document.title, config.domain);\n    }\n}"],"names":["setCookie","name","value","days","expires","date","Date","setTime","getTime","toUTCString","document","cookie","escape","getCookie","cname","decodedCookie","decodeURIComponent","ca","split","i","length","c","charAt","substring","indexOf","products","scroll","state","last_state","state_prev","fp","el_id","direction","offsets","timer","table","CDN","appID","addEventListener","setTable","initCart","getMenu","cb","console","log","authUser","scrollEvents","urlParams","URLSearchParams","window","location","search","get","toast","msg","t","querySelector","innerHTML","classList","add","setTimeout","className","replace","setBtnStep","order","localStorage","cart","created","Math","floor","now","JSON","parse","items","e","idd","randomString","refreshCheckoutButton","btnListeners","refreshDialogView","step","viewCheckoutModal","html","focus","note","alert","stringify","mdialogCnt","style","display","closeModal","origin","config","domain","href","encodeURIComponent","sid","renderMenu","dialogListeners","menuListeners","sliderListeners","rows","settings","categories","html_slider","html_menu","title","val","cat","trim","convertToSlug","x","id","_id","includes","img","imgl","Image","onload","src","setAttribute","price","priceFormat","ctag","qty","show_heading","slider_container","menu_container","close","close2","cdialogCnt","height","overflowY","remove","documentElement","scrollTop","contains","screen","availHeight","row_list","querySelectorAll","row","dataset","index","product_id","total","count","product","sdesc","variations","type","html_vars","v","required","allow","d","data","checked","list","refreshButton","checkbox_list","parseInt","indexv","cbg","parseFloat","radio_list","rag","plus","max_addition","vibrate","minus","parentNode","addToCart","p","priceF","td","confirm","removeFromCart","Object","keys","viewThankyouModal","tdialogCnt","lastOrder","force","ott","params","append","token","fetch","method","headers","body","then","response","json","checkout","success","kid","from","status","ajaxCheckout","error","API_KEY","query","key","clearCart","navigator","slide_list","slide","scrollDiv","offsetLeft","sto","el","l","h_list","diff_prev","diff","h","offsetTop","sc","clearTimeout","scrollTo","left","behavior","str","toLowerCase","toFixed","symbol","length_","chars","random","resetButton","priced","cb_count","ra_count","ra","dis","background","history","replaceState"],"mappings":"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"}