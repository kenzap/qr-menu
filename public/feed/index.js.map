{"version":3,"file":"index.js","sources":["../../src/_/_helpers.js","../../src/_/_feed_checkout.js","../../src/_/_feed_menu.js","../../src/feed/index.js"],"sourcesContent":["export const CDN = 'https://kenzap-sites.oss-ap-southeast-1.aliyuncs.com';\nexport const appID = '66432108790002';\n\n/**\n * @name setCookie\n * @description Set cookie by its name to all .kenzap.com subdomains\n * @param {string} name - Cookie name.\n * @param {string} value - Cookie value.\n * @param {string} days - Number of days when cookie expires.\n */\nexport const setCookie = (name, value, days) => {\n\n    let expires = \"\";\n    if (days) {\n        let date = new Date();\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        expires = \";expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + (escape(value) || \"\") + expires + \";path=/\"; \n}\n\n/**\n * @name getCookie\n * @description Read cookie by its name.\n * @param {string} cname - Cookie name.\n * \n * @returns {string} value - Cookie value.\n */\nexport const getCookie = (cname) => {\n\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n\n/**\n    * Render price\n    * @public\n    */\nexport const priceFormat = function(price) {\n\n    price = makeNumber(price);\n\n    let priceF = parseFloat(price).toFixed(2);\n    \n    switch(config.price.style){\n        case 'left': priceF = config.price.symbol + priceF; break;\n        case 'right': priceF = priceF + config.price.symbol; break;\n    }\n\n    return priceF;\n}\n\n/**\n    * Normalize number variables mostly to cover malformed data cases\n    * @public\n    */\nexport const makeNumber = function(price) {\n\n    price = price == \"\" ? 0 : price;\n\n    return price;\n}\n\n/**\n    * Generates a random string\n    * \n    * @param int length_\n    * @return string\n    */\nexport const randomString = function(length_) {\n\n    var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghiklmnopqrstuvwxyz'.split('');\n    if (typeof length_ !== \"number\") {\n        length_ = Math.floor(Math.random() * chars.length_);\n    }\n    var str = '';\n    for (var i = 0; i < length_; i++) {\n        str += chars[Math.floor(Math.random() * chars.length)];\n    }\n    return str;\n}\n\n/**\n    * Convert text to url friendly slug \n    * @public\n    */\nexport const convertToSlug = function(str) {\n\n    return str\n        .toLowerCase()\n        .replace(/[^\\w ]+/g,'')\n        .replace(/ +/g,'-')\n        ;\n}\n\n/**\n    * trigger small vibration effect when user interacts with UI\n    * @public\n    */\nexport const vibrate = function(){\n\n    if (window.navigator && window.navigator.vibrate) {\n        // Vibrate once for 1 second\n        navigator.vibrate(20);\n    }\n}\n\n/**\n * Show small toast notification\n * @public\n */\nexport const toast = function(msg){\n\n    // Get the snackbar DIV\n    let t = document.querySelector(\".kUNwHA .snackbar\");\n    t.innerHTML = msg;\n    t.classList.add(\"show\");\n\n    // After 3 seconds, remove the show class from div\n    setTimeout(function(){ t.className = t.className.replace(\"show\", \"\"); }, 2200);\n}","import { getCookie, setCookie, priceFormat, toast } from \"../_/_helpers.js\"\n\n/**\n    * Cart and checkout functions\n    * @public\n    */\nexport let cart = {\n\n    state: {total: 0, count: 0, index: 0, product: { variations: [] }, order: {} },\n    // order:{total: 0, items: []},\n    resetButton: function(){\n\n        // document.querySelector(\".kUNwHA .qty\").value = 0;\n        this.state.total = 0;\n        this.state.count = 0;\n        // this.state.product = { variations: [] };\n        // this.refreshButton();\n    },\n    refreshButton: function(){\n\n        // price | get base product price\n        this.state.product.qty = parseInt(document.querySelector(\".kUNwHA .qty\").value);\n        this.state.product.price = products[this.state.index].priced == \"\" ? parseFloat(products[this.state.index].price) : parseFloat(products[this.state.index].priced);\n\n        // get note\n        this.state.product.note = document.querySelector(\".kUNwHA .kp-note textarea\").value;\n\n        // price | calculate upon checkbox variations\n        let cb_count = 0;\n        let checkbox_list = document.querySelectorAll(\".kUNwHA .mdialog .kp-check input[type=checkbox]\");\n        for(const cb of checkbox_list){ if(cb.checked){ cb_count++; this.state.product.price+=parseFloat(cb.dataset.price);  } } //console.log(\"CB: \" + parseFloat(cb.dataset.price));\n\n        // price | calculate upon radio variations\n        let ra_count = 0;\n        let radio_list = document.querySelectorAll(\".kUNwHA .mdialog .kp-radio input[type=radio]\");\n        for(const ra of radio_list){ if(ra.checked){ ra_count++; this.state.product.price+=parseFloat(ra.dataset.price); } } //console.log(\"RA: \" + parseFloat(ra.dataset.price)); \n\n        // price | assign to button\n        this.state.product.priceF = parseFloat((this.state.product.price*this.state.product.qty));\n        document.querySelector(\".kUNwHA .add .price\").innerHTML = priceFormat(this.state.product.priceF);\n\n        // define button state, enabled, disabled\n        let dis = false;\n        if(this.state.product.priceF==0) dis = true;\n        for(let v in cart.state.product.variations){ if(cart.state.product.variations[v].allow == false) dis = true; }\n\n        // define button text\n        // console.log(cart.state.product.type);\n        document.querySelector(\".kUNwHA .kp-add .mbtn .add\").style.background = \"\";\n        if(cart.state.product.type == 'update' && this.state.product.qty > 0){ document.querySelector(\".kUNwHA .kp-add .mbtn .cta\").innerHTML = \"Update\"; }\n        if(cart.state.product.type == 'update' && this.state.product.qty == 0){ document.querySelector(\".kUNwHA .kp-add .mbtn .cta\").innerHTML = \"Remove\"; if(document.querySelector(\".kUNwHA .kp-add .btn .add\")) document.querySelector(\".kUNwHA .kp-add .btn .add\").style.background=\"#df1960\"; dis = false; }\n        if(cart.state.product.type == 'new'){ document.querySelector(\".kUNwHA .kp-add .mbtn .cta\").innerHTML = \"Add\"; }\n\n        // refresh UI\n        if(dis){ document.querySelector(\".kUNwHA .kp-add .mbtn\").classList.add(\"dis\"); }else{ document.querySelector(\".kUNwHA .kp-add .mbtn\").classList.remove(\"dis\"); }\n    },\n    refreshCheckoutButton: function(){\n\n        // console.log(this.state.order.items);\n        let total = 0;\n        for(let p in this.state.order.items){\n\n            // console.log(this.state.order.items[p].priceF);\n            total += parseFloat(this.state.order.items[p].priceF);\n        }\n\n        this.state.order.total = total;\n\n        // trigger visibility\n        if(total>0) {\n\n            document.querySelector(\"body\").classList.add(\"cbtn\");\n            \n            setBtnStep(1);\n\n            document.querySelector(\".kUNwHA .cta-btn .price\").innerHTML = priceFormat(total);\n        }else{\n            document.querySelector(\".kUNwHA .cta-btn\").style.display = \"none\";\n            document.querySelector(\"body\").classList.remove(\"cbtn\");\n        }\n    },\n    addToCart: function(){\n\n        // sync UI with data\n        // this.refreshButton();\n\n        // add to cart\n        this.state.order.items[this.state.product.id] = this.state.product; // push(this.state.product);\n\n        console.log(this.state.order.items);\n\n        // remove from cart\n        if(this.state.product.qty==0){ this.removeFromCart(this.state.product.id); }else{ document.querySelector(\".kUNwHA .kenzap-row[data-id='\"+this.state.product.id+\"'] .ctag\").innerHTML = this.state.product.qty; }\n\n        // cache results\n        localStorage.cart = JSON.stringify(this.state.order);\n\n        // setBtnStep(1);\n        cart.refreshCheckoutButton();\n        \n    },\n    removeFromCart: function(id){\n\n        delete this.state.order.items[id];\n\n        document.querySelector(\".kUNwHA .kenzap-row[data-id='\"+id+\"'] .ctag\").innerHTML = \"\";\n \n        // cache results\n        localStorage.cart = JSON.stringify(this.state.order);\n    },\n    clearCart: function(){\n\n        // clear cart and refresh UI\n        for(let i in cart.state.order.items){  document.querySelector(\".kUNwHA .kenzap-row[data-id='\"+cart.state.order.items[i].id+\"'] .ctag\").innerHTML = \"\"; }\n\n        // reset cached data\n        cart.state.order = {};\n        cart.state.order.created = Math.floor(Date.now() / 1000);\n        cart.state.order.items = {};\n\n        localStorage.cart = JSON.stringify(cart.state.order);\n\n        // refresh cart button \n        this.refreshCheckoutButton();\n\n        // remove checkoout request from url\n        window.history.replaceState({}, document.title, config.domain);\n    }\n}\n\n/**\n * initiate Cart state\n * @public\n */\nexport const initCart = function(){\n\n    setBtnStep(1);\n    \n    try{\n        \n        let order = localStorage.cart;\n        \n        if(!order){ order = {created: Math.floor(Date.now() / 1000) }; }else{ order = JSON.parse(order); }\n        if(typeof(order.items) === 'undefined'){ order.items = {}; }\n\n        // check if cart expired 1h session\n        if(order.created+3600 < Math.floor(Date.now() / 1000)) {\n\n            order.items = {};\n            order.created = Math.floor(Date.now() / 1000);\n        }\n\n        cart.state.order = order;\n        // console.log(order);\n    }catch(e){\n        \n        cart.state.order.created = Math.floor(Date.now() / 1000);\n        cart.state.order.items = {};\n    }\n\n    // make sure user ID exists\n    if(!localStorage.idd) localStorage.idd = randomString(8)+Math.floor(Date.now());\n\n    // console.log(cart.state.order);\n    cart.refreshCheckoutButton();\n}\n\n/**\n * set button Call to action step\n * @public\n */\n export const setBtnStep = function(step){\n\n    document.querySelector(\".kUNwHA .cta-btn\").style.display = \"block\";\n    switch(step){\n\n        case 1: cart.state.order.step = step; document.querySelector(\".kUNwHA .cta-btn .mbtn\").innerHTML = 'View basket <span class=\"price\">s$0.00</span>'; break;\n        case 2: cart.state.order.step = step; document.querySelector(\".kUNwHA .cta-btn .mbtn\").innerHTML = 'Continue'; break;\n        case 3: cart.state.order.step = step; document.querySelector(\".kUNwHA .cta-btn .mbtn\").innerHTML = 'Checkout';  break;\n        case 4: cart.state.order.step = step; document.querySelector(\".kUNwHA .cta-btn .mbtn\").innerHTML = \"Back to menu\"; break;\n    }\n}\n","import { getCookie, setCookie, priceFormat, convertToSlug, makeNumber, CDN, vibrate, toast } from \"../_/_helpers.js\"\nimport { cart } from \"../_/_feed_checkout.js\"\n\n// state of scrolling menu feed and horizontal menu buttons\nexport let scroll = { state: 0, last_state: 0, state_prev: 0, fp: 0, el_id: \"\", direction: \"\", offsets: {}, timer: null };\n\n/**\n * Render menu dialog\n * @public\n */\nexport const renderMenu = function(){\n\n    let rows = settings.categories.split('\\n');\n    let html_slider = '';\n    let html_menu = '';\n    let title = '';\n\n    for(let c of rows){\n\n        // get values\n        let val = c.split('|');\n        let cat = val[0].trim();\n        let note = val[1] == null ? '' : val[1].trim();\n        console.log(note);\n\n        // render slider\n        html_slider += '<div class=\"slide\" data-href=\"'+convertToSlug(cat)+'\"><a href=\"#'+convertToSlug(cat)+'\" class=\" cl\">'+cat+'</a></div>'; \n\n        // render menu\n        for(let x in products){\n\n            // centralize IDS\n            products[x].id = products[x]._id;\n\n            // skip current loop if current category not present\n            if(typeof(products[x]['cats']) === 'undefined') continue;\n            if(products[x]['cats'] == null) continue;\n            if(!products[x]['cats'].includes(cat)) continue;\n\n            // product image\n            let img = 'https://cdn.kenzap.com/loading.png';\n\n            // load image asyncronously\n            if(products[x]['img'][0] || products[x]['img'][0] == 'true'){\n\n                let imgl = new Image();\n                imgl._id = products[x]['_id'];\n                imgl.onload = function () { document.querySelector(\".kUNwHA .kenzap-row[data-id='\"+this._id+\"'] img\").setAttribute('src', this.src); }\n                imgl.src = CDN + '/S'+localStorage.sid+'/product-'+products[x]['_id']+'-1-250.jpeg?'+products[x]['updated'];\n            }\n\n            // price\n            let price = '<span class=\"tag ptag\">'+priceFormat(products[x]['price'])+'</span>';\n            if(products[x]['priced']!=''){\n\n                price = '<span class=\"ptagc\">'+priceFormat(products[x]['price'])+'</span> <span class=\"tag ptag\">'+priceFormat(products[x]['priced'])+'</span>';\n            }\n\n            let ctag = typeof(cart.state.order.items[products[x]['_id']]) === 'undefined' ? \"\" : cart.state.order.items[products[x]['_id']].qty;\n            let show_heading = '';\n            if(title != cat){ title = cat; show_heading = '<h2 id=\"'+convertToSlug(title)+'\">'+title+'</h2><p class=\"subnote\">'+note+'</p>'; }\n            html_menu += '\\\n            <div class=\"kenzap-row\" data-index=\"'+x+'\" data-id=\"'+products[x]['_id']+'\">\\\n                '+show_heading+'\\\n                <div class=\"info-box\">\\\n                    <div class=\"kenzap-col-7\">\\\n                        <div class=\"kp-content\">\\\n                            <h3><span class=\"tag ctag\">'+ctag+'</span>'+products[x]['title']+'</h3>\\\n                            <p>'+products[x]['sdesc']+'</p>\\\n                            '+price+'\\\n                        </div>\\\n                    </div>\\\n                    <div class=\"kenzap-col-5\">\\\n                        <div class=\"kp-img\">\\\n                            <img src=\"'+img+'\" alt=\"'+products[x]['title']+'\">\\\n                        </div>\\\n                    </div>\\\n                </div>\\\n                \\\n            </div>';\n        }\n    }\n\n    let slider_container = document.querySelector(\".kUNwHA .slideset\");\n    let menu_container = document.querySelector(\".kUNwHA .kenzap-container\");\n    if(html_menu==''){\n        menu_container.innerHTML = \"Please add products and specify categories first\";\n    }else{\n        slider_container.innerHTML = html_slider;\n        menu_container.innerHTML = html_menu;\n    }\t\n}\n\n/**\n    * Menu horizontal slider listeners listener.\n    * @public\n    */\nexport const menuListeners = function(){\n\n    // menu row click listener\n    let row_list = document.querySelectorAll(\".kUNwHA .kenzap-row\");\n    for(const row of row_list){\n\n        row.addEventListener('click', function(e) {\n\n            let x = this.dataset.index; cart.state.index = x;\n            let product_id = products[x].id;\n            let mdialogCnt = document.querySelector(\".kUNwHA .mdialog-cnt\");\n            scroll.last_state = scroll.state;\n\n            // console.log(cart.state.order.items);\n\n            cart.state.total = 0;\n            cart.state.count = 0;\n\n            // update cart state\n            cart.state.product = typeof(cart.state.order.items[product_id]) === 'undefined' ? {id: products[x].id, title: products[x].title, sdesc: products[x].sdesc, index: x, qty: 0, note: \"\", variations:[] }:cart.state.order.items[product_id];\n            \n            // detect product state\n            cart.state.product.type = cart.state.product.qty == 0 ? \"new\" : \"update\";\n            \n            document.querySelector(\"body\").classList.add('kp-modal');\n            // console.log(cart.state.product.variations);\n\n            refreshDialogView();\n\n            let src = (products[x]['img'][0]) ? CDN + '/S'+localStorage.sid+'/product-'+products[x]['_id']+'-1-250.jpeg?'+products[x]['updated'] : 'https://cdn.kenzap.com/loading.png'\n\n\n            // bind data to modal body\n            document.querySelector(\".kUNwHA .mdialog-cnt .mdialog .kp-body > h2\").innerHTML = cart.state.product.title;\n            document.querySelector(\".kUNwHA .mdialog-cnt .mdialog .kp-body > p\").innerHTML = cart.state.product.sdesc;\n            document.querySelector(\".kUNwHA .mdialog-cnt .mdialog .kp-img img\").setAttribute('src', src);\n            document.querySelector(\".kUNwHA .mdialog .qty\").value = cart.state.count = cart.state.product.qty;\t\n            document.querySelector(\".kUNwHA .mdialog .kp-note textarea\").value = cart.state.product.note;\t \n\n            // load image asyncronously\n            var imgl = new Image();\n            imgl.onload = function () { document.querySelector(\".kUNwHA .mdialog-cnt .mdialog .kp-img img\").setAttribute('src', this.src); }\n            imgl.src = CDN + '/S'+localStorage.sid+'/product-'+products[x]['_id']+'-1-500.jpeg?'+products[x]['updated'];\n\n            // \"variations\":[{\"title\":\"Sauce\",\"type\":\"checkbox\",\"required\":\"0\",\"data\":[{\"title\":\"Chilli\",\"price\":\"0.40\",\"cond\":\"\"},{\"title\":\"Teriyaki\",\"price\":\"1.00\",\"cond\":\"\"}]},{\"title\":\"Rice\",\"type\":\"checkbox\",\"required\":\"1\",\"data\":[{\"title\":\"rice\",\"price\":\"0.00\",\"cond\":\"\"},{\"title\":\"cdscdsc\",\"price\":\"0.00\",\"cond\":\"\"}]}]}\n            let html_vars = '';\n            if(typeof(products[x].variations !== 'undefined'))\n            for(let v in products[x].variations){\n\n                // products[x].variations[v].title\n\n                // variation type\n                let type = '';\t\n                if(products[x].variations[v].type=='checkbox') type = 'check';\n                if(products[x].variations[v].type=='radio') \ttype = 'radio';\n\n                // update cart state\n                if(typeof(cart.state.product.variations[v]) === 'undefined') cart.state.product.variations[v] = {title: products[x].variations[v].title, required: products[x].variations[v].required, allow: products[x].variations[v].required == '1'?false:true };\t\n\n                // struct variation\n                html_vars += '\\\n                <h3>'+products[x].variations[v].title+(products[x].variations[v].required == '1' ? ' <span class=\"tag\">required</span>':'')+'</h3>\\\n                <div class=\"kp-'+type+'\">';\n\n                // variation labels\n                for(let d in products[x].variations[v].data){\n\n                    let checked = false;\n                    // console.log(cart.state.product.variations);\n                    if(typeof(cart.state.product.variations[v]) !== 'undefined' && typeof(cart.state.product.variations[v].list) !== 'undefined' && typeof(cart.state.product.variations[v].list[\"_\"+d]) !== 'undefined'){\n\n                        checked = true;\n                        // alert(\"checked\");\n                        // checked = typeof(cart.state.product.variations[v].list[\"_\"+d]) === 'undefined' ? false : true;\n                    }\n                    \n                    // verify variation price validity\n                    products[x].variations[v].data[d]['price']= makeNumber(products[x].variations[v].data[d]['price']);\n\n                    switch(type){\n                        case 'check':\n\n                        html_vars += '\\\n                            <label>\\\n                                <input type=\"checkbox\" data-required=\"'+products[x].variations[v].required+'\" data-indexv=\"'+v+'\" data-index=\"'+d+'\" data-title=\"'+products[x].variations[v].data[d]['title']+'\" data-price=\"'+products[x].variations[v].data[d]['price']+'\" '+(checked?'checked=\"checked\"':'')+'>\\\n                                <div class=\"checkbox\">\\\n                                    <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\">\\\n                                        <path d=\"M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z\"></path>\\\n                                        <polyline points=\"4 11 8 15 16 6\"></polyline>\\\n                                    </svg>\\\n                                </div>\\\n                                <span>'+products[x].variations[v].data[d]['title']+'</span>\\\n                                <div class=\"price\">+ '+priceFormat(products[x].variations[v].data[d]['price'])+'</div>\\\n                            </label>';\n                        \n                        break;\n                        case 'radio':\n\n                        html_vars += '\\\n                            <label>\\\n                                <input type=\"radio\" data-required=\"'+products[x].variations[v].required+'\" data-indexv=\"'+v+'\" name=\"radio\" data-index=\"'+d+'\" data-title=\"'+products[x].variations[v].data[d]['title']+'\" data-price=\"'+products[x].variations[v].data[d]['price']+'\" '+(checked?'checked=\"checked\"':'')+' />\\\n                                <span>'+products[x].variations[v].data[d]['title']+'</span>\\\n                                <div class=\"price\">+ '+priceFormat(products[x].variations[v].data[d]['price'])+'</div>\\\n                            </label>';\n                        \n                        break;\n                    }\n                }\n\n                html_vars += '</div>';\n\n                // html_var = '\\\n                // <h3>'+products[x].variations[v].title+' '+(products[x].variations[v].required == '1' ? '<span class=\"tag\">required</span>':'')+'</h3>\\\n                // <div class=\"kp-'+type+'\">\\\n                // \t'+labels+'\\\n                // </div>';\n            }\n\n            document.querySelector(\".kUNwHA .mdialog-cnt .mdialog .kp-vars\").innerHTML = html_vars;\n\n            cart.refreshButton();\n            \n            mdialogCnt.style.display = \"block\";\n            document.querySelector(\".kUNwHA .overlay\").style.display = \"block\";\n    \n            // checkbox listener\n            let checkbox_list = document.querySelectorAll(\".kUNwHA .mdialog .kp-check input[type=checkbox]\");\n            for(const cb of checkbox_list){\n                cb.addEventListener('change', function() {\n\n                    console.log(\"call refreshButton\");\n\n                    let v = parseInt(cb.dataset.indexv);\n                    // if(typeof(cart.state.product.variations[v].list) === 'undefined') \n                    cart.state.product.variations[v].list = {};\n\n                    let count = 0;\n                    for(const cbg of document.querySelectorAll(\".kUNwHA .mdialog .kp-check input[type=checkbox][data-indexv='\"+v+\"']\")){\n\n                        // checks if this block is required and allows checkout\n                        if(cb.dataset.required==\"1\"){ if(count) cart.state.product.variations[v].allow = true; }else{ cart.state.product.variations[v].allow = true; }\n\n                        // cache selected variations\n                        if(cbg.checked){ cart.state.product.variations[v].list[\"_\"+cbg.dataset.index] = {title: cbg.dataset.title, price: parseFloat(cbg.dataset.price) }; count +=1; }\n                    }\n                    \n                    // console.log(cart.state.product.variations);\n                    cart.refreshButton();\n                });\n            }\n\n            // radio listener\n            let radio_list = document.querySelectorAll(\".kUNwHA .mdialog .kp-radio input[type=radio]\");\n            for(const cb of radio_list){\n                cb.addEventListener('change', function() {\n\n                    console.log(\"call refreshButton\");\n\n                    let v = parseInt(cb.dataset.indexv);\n                    // if(typeof(cart.state.product.variations[v].list) === 'undefined') \n                    cart.state.product.variations[v].list = {};\n\n                    let count = 0;\n                    for(const rag of document.querySelectorAll(\".kUNwHA .mdialog .kp-radio input[type=radio][data-indexv='\"+v+\"']\")){\n                    \n                        console.log(rag.dataset.price);\n\n                        // cache selected variations\n                        if(rag.checked){ cart.state.product.variations[v].list[\"_\"+rag.dataset.index] = {title: rag.dataset.title, price: parseFloat(rag.dataset.price) }; count +=1; }\n                        \n                        // checks if this block is required and allows checkout\n                        if(cb.dataset.required==\"1\"){ if(count) cart.state.product.variations[v].allow = true; }else{ cart.state.product.variations[v].allow = true; }\n                    }\n\n                    // console.log(cart.state.product.variations);\n\n                    cart.refreshButton();\n                });\n            }\n        });\n        // cart.refreshButton();\n        // console.log(cart.state.product);\n    }\n\n    // plus click listener\n    let qty = document.querySelector(\".kUNwHA .mdialog .qty\");\n    let plus = document.querySelector(\".kUNwHA .mdialog .plus\");\n    plus.addEventListener('click', function(e) {\n\n        if(cart.state.count < config.cart.max_addition) cart.state.count +=1;\n        qty.value = cart.state.count;\n        cart.refreshButton();\n        vibrate();\n    });\n    \n    // minus click listener\n    let minus = document.querySelector(\".kUNwHA .mdialog .minus\");\n    minus.addEventListener('click', function(e) {\n\n        if(cart.state.count > 0) cart.state.count -=1;\n        qty.value = cart.state.count;\n        cart.refreshButton();\n        vibrate();\n    });\n\n    // add to cart listener\n    let add = document.querySelector(\".kUNwHA .mdialog .add\");\n    add.addEventListener('click', function(e) {\n\n        if(this.parentNode.classList.contains(\"dis\")){ alert(\"Please select required fields\"); return; }\n        cart.addToCart();\n        // cart.resetButton(); \n        closeModal();\n        toast(\"Cart updated\");\n        vibrate();\n    });\n\n    // checkout  button listener\n    // let checkout = document.querySelector(\".kUNwHA .vadd\");\n    // checkout.addEventListener('click', function(e) {\n\n    // \tviewCheckoutModal();\n    // });\n}\n\n/**\n * Menu horizontal slider listeners.\n * @public\n */\nexport const sliderListeners = function(){\n\n    let slide_list = document.querySelectorAll(\".kUNwHA .slideset .slide\");\n    for(const slide of slide_list){\n\n        // offsetLeft\n        let scrollDiv = slide.offsetLeft;\n        scroll.offsets[slide.dataset.href] = scrollDiv;\n        slide.addEventListener('click', function(e) {\n\n            let sto = document.documentElement.scrollTop;\n            // document.documentElement.scrollTop = sto-=10;\n            setTimeout(function(el){\n\n                for (const l of document.querySelectorAll(\".kUNwHA .slide\")){ l.classList.remove(\"active\"); }\n                el.classList.add(\"active\");\n                // document.documentElement.scrollTop = sto+=10;\n            },250, this)\n        });\n    }\n}\n\n/**\n * Dialog box listeners\n * @public\n */\nexport const refreshDialogView = function(){\n\n    // body prevent scroll\n    if(document.querySelector(\"body\").classList.contains('kp-modal')){\n        document.querySelector(\"body\").style.height = '100vh';\n        document.querySelector(\"body\").style.overflowY = 'hidden';\n        document.querySelector(\".kUNwHA .scrollable\").style.height = '100vh';\n        document.querySelector(\".kUNwHA .scrollable\").style.overflowY = 'hidden';\n        document.querySelector(\".kUNwHA .mdialog-cnt\").style.height = (window.screen.availHeight-160) + \"px\";\n    }\n    // document.querySelector(\".kUNwHA .cdialog-cnt\").style.height = (window.screen.availHeight-160) + \"px\";\n}\n\n/*\n* Close product popup\n* @public\n*/\nexport const closeModal = function(){\n\n   let mdialogCnt = document.querySelector(\".kUNwHA .mdialog-cnt\");\n   mdialogCnt.style.display = \"none\";\n\n   document.querySelector(\".kUNwHA .overlay\").style.display = \"none\";\n\n   // allow body scroll\n   document.querySelector(\".kUNwHA .scrollable\").style.height = 'auto';\n   document.querySelector(\".kUNwHA .scrollable\").style.overflowY = 'scroll';\n\n   document.querySelector(\"body\").style.overflowY = 'auto';\n   document.querySelector(\"body\").style.height = 'auto';\n   setTimeout(function(){ document.querySelector(\"body\").classList.remove('kp-modal'); },300);\n\n   document.documentElement.scrollTop = scroll.last_state;\n\n   let cdialogCnt = document.querySelector(\".kUNwHA .cdialog-cnt\");\n   cdialogCnt.style.display = \"none\";\n\n   cart.refreshCheckoutButton();\n}\n","import { getCookie, setCookie, priceFormat, randomString, convertToSlug, makeNumber, CDN, appID, toast } from \"../_/_helpers.js\"\nimport { cart, setBtnStep, initCart } from \"../_/_feed_checkout.js\"\nimport { renderMenu, menuListeners, sliderListeners, refreshDialogView, closeModal, scroll } from \"../_/_feed_menu.js\"\n\nlet table = '';\n\n// when HTML is loaded run all required scripts to render the menu\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n\n    setTable();\n\n    initCart();\n\n    getMenu();\n\n    let cb = function(){ console.log('processed'); }\n    authUser(cb, false);\n\n    document.addEventListener(\"scroll\", scrollEvents);\n});\n\n/**\n * Set default table number taken from the QR-code\n * @public\n */\nconst setTable = function(){\n\n    // set current table if provided\n    let urlParams = new URLSearchParams(window.location.search);\n    table = urlParams.get('table') ? urlParams.get('table') : \"\";\n}\n\n/**\n * Init call to action button listeners\n * @public\n */\nconst btnListeners = function(){\n\n    // continue to table selection\n    document.querySelector(\".kUNwHA .cta-btn .mbtn\").addEventListener('click', function(e) {\n\n        document.querySelector(\"body\").classList.add('kp-modal');\n        refreshDialogView();\n\n        // view cart\n        if(cart.state.order.step == 1){\n\n            viewCheckoutModal();\n            setBtnStep(2);\n            return;\n        }\n        \n        // pick table number view\n        if(cart.state.order.step == 2){\n            \n            // view contents\n            let html = '';\n            html = '<div class=\"ptable\">';\n            html +=\t'<label for=\"table\" style=\"'+(table.length>0?'display:none;':'')+'\">Table number</label>';\n            html +=\t'<input type=\"number\" value=\"'+table+'\" name=\"table\" style=\"'+(table.length>0?'display:none;':'')+'\" autocomplete=\"off\" class=\"table\" size=\"4\" pattern=\"\" inputmode=\"\">';\n            html +=\t'<label for=\"note\">Note</label>';\n            html += '<textarea class=\"note\" name=\"note\" placeholder=\"leave a note for a kitchen\"></textarea>';\n            html +=\t'</div>';\n\n            document.querySelector(\".kUNwHA .cdialog-cnt .kp-body\").innerHTML = html;\n            document.querySelector(\".kUNwHA .cdialog-cnt .ptable .table\").focus();\n\n            setBtnStep(3);\n            return;\n        }\n\n        // finalize checkout\n        if(cart.state.order.step == 3){\n\n            // validate input field\n            let table = document.querySelector(\".kUNwHA .cdialog-cnt .ptable .table\").value;\n            let note = document.querySelector(\".kUNwHA .cdialog-cnt .ptable .note\").value;\n            if(table==\"\"){ alert(\"Please enter table number\"); return; }\n\n            // get note\n            cart.state.order.table = table;\n            cart.state.order.note = note;\n\n            // cache data\n            localStorage.cart = JSON.stringify(cart.state.order);\n\n            // close checkout modal\n            let mdialogCnt = document.querySelector(\".kUNwHA .cdialog-cnt\");\n            mdialogCnt.style.display = \"none\";\n\n            // hide button\n            document.querySelector(\".kUNwHA .cta-btn\").style.display = \"none\";\n\n            // restore body scrolling params \n            closeModal();\n            \n            // send order to backend\n            // let cb = function(){ console.log('processed'); }\n            // authUser(cb, true);\n \n            // auth user to finish checkout\n            let origin = config.domain;\n            if(origin.indexOf('checkout')==-1) origin += (origin.indexOf('?')==-1 ? '?':'&')+'checkout=1';\n            // alert('https://auth.kenzap.com/?app='+appID+'&redirect='+encodeURIComponent(origin));\n            window.location.href = 'https://auth.kenzap.com/?app='+appID+'&redirect='+encodeURIComponent(origin);\n            \n            document.querySelector(\".kUNwHA .overlay\").style.display = \"block\";\n            document.querySelector(\".kUNwHA .overlay .loader\").style.display = \"block\";\n\n            return;\n        }\n\n        // offer sign in\n        if(cart.state.order.step == 4){\n\n            // restore body scrolling params\n            closeModal();\n\n            // window.location.href = 'https://auth.kenzap.com/?redirect=https%3A%2F%2Faccount.kenzap.com%2F%3Flauncher%3Dmenu-orders&idd=' + localStorage.idd;\n            return;\n        }\n    });\n}\n\n/**\n * Gets menu data\n * @public\n */\nconst getMenu = function(){\n\n    localStorage.sid = config.sid;\n\n    renderMenu();\n\n    dialogListeners();\n\n    menuListeners();\n\n    sliderListeners();\n\n    btnListeners();\n    \n    // console.log(products);\n}\n\n/**\n * Dialog box listeners\n * @public\n */\nconst dialogListeners = function(){\n\n    let close = document.querySelector(\".kUNwHA .mdialog .close\");\n    close.addEventListener('click', function(e) {\n\n        closeModal();\n    });\n\n    let close2 = document.querySelector(\".kUNwHA .cdialog .close\");\n    close2.addEventListener('click', function(e) {\n\n        let cdialogCnt = document.querySelector(\".kUNwHA .cdialog-cnt\");\n        cdialogCnt.style.display = \"none\";\n\n        setBtnStep(1);\n\n        closeModal();\n    });\n\n    window.addEventListener(\"resize\", refreshDialogView);\n    window.addEventListener(\"orientationchange\", refreshDialogView);\n}\n\n/**\n    * view checkout modal\n    * @public\n    */\nconst viewCheckoutModal = function(){\n\n    let cdialogCnt = document.querySelector(\".kUNwHA .cdialog-cnt\");\n\n    refreshDialogView();\n\n    cdialogCnt.style.display = \"block\";\n    document.querySelector(\".kUNwHA .overlay\").style.display = \"block\";\n\n    // generate cart table\n    let html = '<table>';\n    let total = 0;\n    for(let p in cart.state.order.items){\n\n        // console.log(cart.state.order.items[p].priceF);\n        total += parseFloat(cart.state.order.items[p].priceF);\n        html += '<tr><td data-id=\"'+cart.state.order.items[p].id+'\" class=\"checkt\">'+cart.state.order.items[p].qty+' x '+cart.state.order.items[p].title+'</td><td></td><td class=\"price\"><strong>'+priceFormat(cart.state.order.items[p].price)+'</strong></td></tr>';\n    }\n\n    html += '<tr><td class=\"summ\" colspan=\"3\">Total <strong>'+priceFormat(total)+'</strong></td></tr>';\n    html += '</table>';\n\n    cdialogCnt.querySelector(\".kUNwHA .cdialog-cnt .kp-body\").innerHTML = html;\n\n    // remove item from cart\n    for(const td of cdialogCnt.querySelectorAll(\".kUNwHA .cdialog-cnt .kp-body .checkt\")){\n\n        td.addEventListener('click', function(e) {\n\n            let c = confirm(\"Remove \"+this.innerHTML + \"?\");\n            if(c){\n\n                document.querySelector(\".kUNwHA .kenzap-row[data-id='\"+this.dataset.id+\"'] .ctag\").innerHTML = \"\";\n                cart.removeFromCart(this.dataset.id);\n                cart.refreshCheckoutButton();\n\n                // console.log(cart.state.order.items);\n                if(Object.keys(cart.state.order.items).length == 0){\n\n                    setBtnStep(1);\n                    // console.log(\"closeModal\"); \n                    closeModal(); \n                    return; \n                }\n                viewCheckoutModal();\n                setBtnStep(2);\n            }\n        });\n    }\t\n}\n\n/**\n    * view thank you modal\n    * @public\n    */\nconst viewThankyouModal = function(){\n\n    let tdialogCnt = document.querySelector(\".kUNwHA .cdialog-cnt\");\n\n    refreshDialogView();\n\n    tdialogCnt.style.display = \"block\";\n    document.querySelector(\".kUNwHA .overlay\").style.display = \"block\";\n\n    // generate cart table\n    let html = '<div>';\n    html += '<h3>Order received!</h3>';\n    html += '<p>Thank you for your order, you can close the window or return to the menu.</p>';\n    html += '<lottie-player src=\"https://assets8.lottiefiles.com/packages/lf20_fefIZO.json\"  background=\"transparent\"  speed=\"1\" class=\"lplayer\" style=\"width: 300px; height: 300px;\" loop  autoplay></lottie-player>';\n    \n    // generate order table\n    html += '<h4>Summary</h4>';\n    html += '<table>';\n    let total = 0;\n    let lastOrder = JSON.parse(localStorage.lastOrder);\n    for(let p in lastOrder.items){\n\n        // console.log(cart.state.order.items[p].priceF);\n        total += parseFloat(lastOrder.items[p].priceF);\n        html += '<tr><td data-id=\"'+lastOrder.items[p].id+'\" class=\"checkt\">'+lastOrder.items[p].qty+' x '+lastOrder.items[p].title+'</td><td></td><td class=\"price\"><strong>'+priceFormat(lastOrder.items[p].price)+'</strong></td></tr>';\n    }\n\n    html += '<tr><td class=\"summ\" colspan=\"3\">Total <strong>'+priceFormat(total)+'</strong></td></tr>';\n    html += '</table>';\n\n    \n    // html +=  \n    html += '</div>';\n\n    tdialogCnt.querySelector(\".kUNwHA .cdialog-cnt .kp-body\").innerHTML = html;\n}\n\n/**\n    * send checkout data to backend\n    * @public\n    */\nconst authUser = function(cb, force){\n        \n    let urlParams = new URLSearchParams(window.location.search);\n    let ott = urlParams.get('ott') ? urlParams.get('ott') : \"\";\n    \n    let params = new URLSearchParams();\n        params.append(\"cmd\", \"get_state\");\n        params.append(\"app\", appID);\n        params.append(\"ott\", ott);\n        params.append(\"token\", getCookie('kenzap_token'));\n\n        config.token = getCookie('kenzap_token');\n\n    // do API query\n    fetch('https://api-v1.kenzap.cloud/auth/', {\n        method: 'post',\n        headers: {\n            'Accept': 'application/json',\n            'Content-type': 'application/x-www-form-urlencoded',\n            // 'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n        },\n        body: params\n    })\n    .then(response => response.json())\n    .then(response => {\n \n        let checkout = urlParams.get('checkout') ? urlParams.get('checkout') : \"\";\n        if(!checkout) return;\n\n        if(response.success){\n\n            if(response.token){ config.token = response.token; setCookie('kenzap_token', response.token, 1); console.log('setting up token'); }\n\n            // let table = 5;\n            cart.state.order.kid = response.kid;\n            cart.state.order.name = response.name;\n            cart.state.order.from = table+' - '+response.name;\n            cart.state.order.status = 'new';\n\n            // DO CHECKOUT\n            // cb.call();\n            ajaxCheckout();\n        }else{\n\n            alert('Oops, something went wrong. Please try checking out again.');\n \n            // DO AUTH\n            // if(force) window.location.href = 'https://auth.kenzap.com/?app='+appID+'&redirect='+encodeURI(window.location.href);\n            // window.location.href = 'https://auth.kenzap.com/?app='+appID;\n            // https://auth.kenzap.com/?app=66432108790001\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n    });\n}\n\n/**\n    * send checkout data to backend\n    * @public\n    */\nconst ajaxCheckout = function(){\n\n    cart.state.order.idd = localStorage.idd;\n    cart.state.order.sid = localStorage.sid;\n    cart.state.order.id = (typeof(cart.state.order.id) === 'undefined' ? randomString(8)+Math.floor(Date.now()) : cart.state.order.id);\n\n    localStorage.lastOrder = JSON.stringify(cart.state.order);\n\n    // alert(cart.state.order.id);\n    // let kenzap_api_key = 'DoSTdhxk6BTIHiYno9XhZ4zorh0ak0MRGMH5T2iP2h1BNo3MtA69irZJp3pZuaiA';\n\n    // alert('token 2 '+ config.token);\n\n    // do API query\n    fetch('https://api-v1.kenzap.cloud/', {\n        method: 'post',\n        headers: {\n            'Accept': 'application/json',\n            'Content-type': 'application/x-www-form-urlencoded',\n            'Authorization': 'Bearer ' + API_KEY,\n            'Kenzap-Token': config.token,\n            'Kenzap-Sid': localStorage.sid,\n        },\n        body: JSON.stringify({\n            query: {\n                order: {\n                    type:       'create',\n                    key:        'ecommerce-order',        \n                    sid:        localStorage.sid,\n                    data:       cart.state.order\n                }\n            }\n        })\n    })\n    .then(response => response.json())\n    .then(response => {\n\n        if(response.success){\n\n            viewThankyouModal();\n\n            // reset cart\n            cart.clearCart();\n\n            // next step\n            setBtnStep(4);\n        }else{\n\n            // alert(\"Error occured. Please try again!\");\n            alert('Error: '+JSON.stringify(response));\n\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n    });\n}\n\n/**\n    * Scroll listener. Add/Remove scrolled class to body\n    * @public\n    */\nconst scrollEvents = function() {\n\n    // console.log(document.documentElement.scrollTop);\n    let h_list = document.querySelectorAll(\".kUNwHA .kenzap-row h2\");\n    let s_id = \"\";\n    let diff_prev = 0;\n    let diff = 0;\n    scroll.state = document.documentElement.scrollTop;\n\n    for (const h of h_list){\n\n        diff = (h.offsetTop - document.documentElement.scrollTop);\n        \n        // scrolling up\n        // if(scroll.state<scroll.state_prev){\n\n        // \tscroll.direction = \"up\";\n        // \tif(diff>0){\n                \n        // \t\tif(scroll.el_id == \"\") scroll.el_id = h.id;\n        // \t\tif(diff_prev > diff){ console.log(diff + \" \" +h.id); diff = diff_prev; scroll.el_id = h.id; }\n        // \t}\n        // }\n\n        // scrolling down\n        // if(scroll.state>scroll.state_prev){\n\n            scroll.direction = \"down\";\n            if(diff<0){\n\n                if(diff_prev > diff){ diff = diff_prev; scroll.el_id = h.id; }\n            }\n    \n            // if(diff>0){\n\n            // }\n        // }\n\n        diff_prev = diff;\n    }\n\n    // save previous scroll state\n    if(scroll.state_prev!=scroll.state) scroll.state_prev = scroll.state;\n\n    if(scroll.el_id!=\"\"){\n\n        let sc = document.querySelector(\".kUNwHA .cata-sub-nav\");\n        if(scroll.timer) clearTimeout(scroll.timer);\n        scroll.timer = setTimeout((el_id) => {\n\n            sc.scrollTo({ left: scroll.offsets[el_id], behavior: 'smooth'});\n\n            for (const l of document.querySelectorAll(\".kUNwHA .slide\")){ l.classList.remove(\"active\"); }\n            document.querySelector(\".kUNwHA [data-href='\"+el_id+\"']\").classList.add(\"active\");\n\n        }, 200, scroll.el_id);\n    }\n\n    scroll.el_id = \"\";\n}\n\n"],"names":["CDN","appID","setCookie","name","value","days","expires","date","Date","setTime","getTime","toUTCString","document","cookie","escape","getCookie","cname","decodedCookie","decodeURIComponent","ca","split","i","length","c","charAt","substring","indexOf","priceFormat","price","makeNumber","priceF","parseFloat","toFixed","config","style","symbol","randomString","length_","chars","Math","floor","random","str","convertToSlug","toLowerCase","replace","vibrate","window","navigator","toast","msg","t","querySelector","innerHTML","classList","add","setTimeout","className","cart","state","total","count","index","product","variations","order","resetButton","refreshButton","qty","parseInt","products","priced","note","cb_count","checkbox_list","querySelectorAll","cb","checked","dataset","ra_count","radio_list","ra","dis","v","allow","background","type","remove","refreshCheckoutButton","p","items","setBtnStep","display","addToCart","id","console","log","removeFromCart","localStorage","JSON","stringify","clearCart","created","now","history","replaceState","title","domain","initCart","parse","e","idd","step","scroll","last_state","state_prev","fp","el_id","direction","offsets","timer","renderMenu","rows","settings","categories","html_slider","html_menu","val","cat","trim","x","_id","includes","img","imgl","Image","onload","setAttribute","src","sid","ctag","show_heading","slider_container","menu_container","menuListeners","row_list","row","addEventListener","product_id","mdialogCnt","sdesc","refreshDialogView","html_vars","required","d","data","list","indexv","cbg","rag","plus","max_addition","minus","parentNode","contains","alert","closeModal","sliderListeners","slide_list","slide","scrollDiv","offsetLeft","href","sto","documentElement","scrollTop","el","l","height","overflowY","screen","availHeight","cdialogCnt","table","setTable","getMenu","authUser","scrollEvents","urlParams","URLSearchParams","location","search","get","btnListeners","viewCheckoutModal","html","focus","origin","encodeURIComponent","dialogListeners","close","close2","td","confirm","Object","keys","viewThankyouModal","tdialogCnt","lastOrder","force","ott","params","append","token","fetch","method","headers","body","then","response","json","checkout","success","kid","from","status","ajaxCheckout","error","API_KEY","query","key","h_list","diff_prev","diff","h","offsetTop","sc","clearTimeout","scrollTo","left","behavior"],"mappings":"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"}